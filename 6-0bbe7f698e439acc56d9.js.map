{"version":3,"sources":["webpack:///6-0bbe7f698e439acc56d9.js","webpack:///./src/OrganisationUnitLevels/OrganisationUnitLevels.component.js","webpack:///./~/d2-ui/lib/headings/Heading.component.js?d681*****","webpack:///./src/config/field-config/field-order.js?3706****","webpack:///./~/d2-ui/lib/forms/FormBuilder.component.js?10ba**","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850****","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14****","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce****","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe****","webpack:///./src/EditModel/SaveButton.component.js?57d6**","webpack:///./~/d2-ui/lib/forms/AsyncValidatorRunner.js?a9de**","webpack:///./src/EditModel/FormButtons.component.js?e889*","webpack:///./src/OrganisationUnitLevels/organisationUnitLevels.store.js","webpack:///./src/OrganisationUnitLevels/organisationUnitLevels.actions.js"],"names":["webpackJsonp","1975","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","saveOrganisationUnitLevels","i18n","__WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__","subscribe","__WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__","show","message","getTranslation","action","OrganisationUnitLevels","props","context","canEdit","d2","currentUser","canUpdate","models","organisationUnitLevel","isLoading","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default","styles","paperWrap","padding","maxWidth","marginTop","rowStyle","display","flexDirection","height","formWrapStyle","flex","fieldWrapStyle","paddingRight","translateButtonWrap","alignItems","verticalAlign","fieldRows","fieldsForOrganisationUnitLevel","map","fieldsForLevel","index","translateButton","id","style","__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default","iconClassName","onClick","onTranslateClick","key","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__","fields","fieldConfig","_extends","disabled","onUpdateField","fieldName","fieldValue","fieldUpdate","onUpdateFormStatus","formStatus","updateFormStatus","levelIndex","__WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__","__WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__","isValid","every","v","isSaving","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__","__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__","_createClass","defineProperties","target","i","length","descriptor","protoProps","staticProps","assign","arguments","source","hasOwnProperty","defaultProps","propTypes","array","bool","componentState$","OrganisationUnitLevelsWithState","addD2Context","_class","_ref","this","_len","args","Array","_key","_this","getPrototypeOf","apply","concat","state","translation","open","_onTranslateClick","bind","_closeTranslationDialog","_translationSaved","_translationErrored","_React$Component","initOrgUnitLevels","model","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","onRequestClose","fieldsToTranslate","data","setState","undefined","Component","1979","_objectWithoutProperties","obj","keys","indexOf","Heading","level","text","children","other","tag","type","headingStyle","fontSize","fontWeight","color","margin","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","oneOf","string","1994","fieldOrderByName","Map","for","schemaName","has","get","2002","_defineProperty","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3__AsyncValidatorRunner__","__WEBPACK_IMPORTED_MODULE_4__circular_progress_CircularProgress__","noop","FormBuilder","initState","asyncValidators","createAsyncValidators","asyncValidationRunner","getFieldProp","getStateClone","_this2","clonedState","filter","field","name","forEach","validateField","_this3","form","pristine","valid","validating","reduce","p","c","error","_this4","position","progress","validatingProgressStyle","validatingErrorStyle","errorTextProp","fieldState","changeHandler","handleFieldChange","onBlurChangeHandler","changeEvent","e","stateClone","updateFieldState","errorText","validatingLabelText","mode","size","component","onChange","onBlur","errorStyle","renderFields","_this5","currentFieldState","_this6","isArray","currentField","unsubscribe","fieldProp","fieldNames","current","event","_this7","newValue","cancelAsyncValidators","validatorResult","runAsyncValidators","_this8","listenToValidatorsFor","status","run","validators","pass","currentValidator","validator","f","arrayOf","shape","isRequired","any","func","object","right","top","2036","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__","TranslationDialog","_Component","TranslationForm","translationSaved","translationError","closeTranslationDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","err","contextTypes","2061","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default","LocaleSelector","onLocaleChange","locale","localeMenuItems","payload","locales","primaryText","fullWidth","hintText","2062","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_9__store_Store__","__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__","translations","__WEBPACK_IMPORTED_MODULE_5_rxjs__","combineLatest","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__","loading","translationValues","currentSelectedLocale","setCurrentLocale","setValue","property","newTranslations","find","t","toLowerCase","toUpperCase","push","saveTranslations","textAlign","floatingLabelText","getTranslationValueFor","renderFieldsToTranslate","label","primary","marginLeft","minHeight","renderForm","renderHelpText","getLoadingdataElement","2063","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","then","Api","getApi","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","getModelHref","href","apiEndpoint","getTranslationsForModel","of","flatMap","Promise","reject","Error","d","__WEBPACK_IMPORTED_MODULE_2__action_Action__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","_ref$data","complete","translationHref","update","dataType","catch","2093","SaveButton","rest","buttonText","__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__","2173","runValidatorFunctions","validatorFunctions","formState","all","errorMessage","__WEBPACK_IMPORTED_MODULE_0_rxjs__","AsyncValidatorRunner","scheduler","validatorPipeline","debounceTimeInMs","debounceTime","concatAll","2176","FormButtons","defaultStyle","buttonStyle","marginRight","width","buttonsToRender","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default","child","cloneElement","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__","PropTypes","oneOfType","isFormValid","2426","__WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__","2521","_asyncToGenerator","fn","gen","resolve","step","arg","info","DropDownFieldForOfflineLevels","options","otherProps","availableOptions","option","__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default","__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default","isNameUnique","__WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__","fieldConfigs","some","result","getFieldConfigsForAllFields","organisationUnitLevels","organisationUnitLevelFormFields","ouLevel","buildFormStatus","_ref3","getState","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","api","post","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__","__WEBPACK_IMPORTED_MODULE_2_rxjs__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__","__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default","loadOrganisationUnitLevels","regeneratorRuntime","mark","_callee","wrap","_context","prev","sent","abrupt","stop","getOrganisationUnitLevelFormFields","_ref2","_callee2","_context2","fieldForOrganisationUnitLevels","fieldOption","fieldOptions","actions","createActionsFromNames","organisationUnitLevelFormFields$","formStatusForAllLevels","_ref4","fieldConfigsForAllLevels","_ref5","fieldUpdateSubject$","_ref6","storeState","_ref7","_ref7$storeState","organisationUnitToChangeValueFor","_ref8","offlineLevels","do","callback"],"mappings":"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AEH,aACG,OACA,YACA,OACA,cACA,aACA,WACA,gBACA,aACA,MACA,qCACA,yCAEH,kBACG,OACA,gBAEH,iBACG,OACA,YAEH,qBACG,OACA,cACA,aACA,qBAGH,WACG,OACA,YACA,OACA,QACA,cACA,aACA,oBACA,aACA,aACA,mBACA,gBACA,yBACA,uBACA,WACA,SACA,2BACA,oBACA,yBACA,aACA,cACA,wBACA,eACA,qBACA,+BACA,kBACA,aACA,uBAEH,+BAEG,OAAQ,OAAQ,WAAY,kBAE5B,6BAA8B,wBAAyB,eAEvD,wBAAyB,qBAAsB,sBAElD,oBACG,OACA,YACA,OACA,cACA,cACA,aACA,UACA,MACA,gBACA,UACA,QACA,cACA,cACA,WACA,cAGH,yBACG,OACA,YACA,OACA,cACA,QACA,SACA,uBAEH,4BACG,OACA,YACA,OACA,cACA,aACA,gBACA,iCACA,4BAEH,yBACG,OACA,mBAEH,YACG,OACA,YACA,OACA,cACA,WAEH,aACG,OACA,YACA,OACA,cACA,YACA,YACA,YACA,YACA,SACA,0BAEH,aACG,OACA,OACA,cACA,eAEH,UACG,OACA,OACA,WAEH,aACG,OACA,OACA,aAEH,gBACG,OACA,QACA,YACA,OACA,cACA,UACA,gBACA,WACA,2BACA,mBACA,gBAEH,qBACG,iBACA,cACA,qBACA,iBACA,wBAEH,kBACG,OACA,YACA,OACA,QACA,cACA,UACA,oBACA,gBACA,WACA,uBACA,kCACA,cACA,2BACA,mBACA,aACA,oBACA,gCACA,yBAGH,cACG,gCACA,8BACA,iBACA,sBACA,oBACA,sBACA,sBACA,cACA,oBAEH,gBACG,OACA,QACA,cACA,mBACA,aACA,aACA,0BACA,mBACA,oBACA,sBACA,kBACA,iBACA,kBACA,yBACA,4BACA,cACA,cACA,iBACA,qBACA,kBAEH,0BACG,OACA,YACA,WACA,OACA,cACA,YACA,YACA,kBACA,SACA,eACA,YACA,UACA,UACA,eACA,yBACA,sBACA,gBAEH,+BACG,OACA,YACA,OACA,cACA,6BAEH,oBACG,OACA,OACA,cACA,iBACA,kBAEH,qBACG,OACA,QACA,cACA,gBACA,gCACA,sBACA,cACA,iCAEH,oBACG,UACA,OACA,YACA,OACA,cACA,WACA,kBACA,gBACA,4BACA,gBACA,aACA,qCACA,sCACA,aACA,YAEH,yBACG,OACA,OACA,uBAEH,kBACG,OACA,YACA,OACA,cACA,cACA,aACA,WACA,aACA,WACA,aACA,WACA,WACA,YACA,yBACA,wBAEH,uBACG,OACA,YACA,OACA,cACA,qBAEH,aACG,OACA,YACA,OACA,cACA,SACA,aACA,yBACA,YACA,iBACA,wBACA,oBACA,yBAEH,kBACG,OACA,OACA,cACA,gBAEH,gBACG,OACA,OACA,QACA,UACA,YACA,sBACA,sBACA,aAEH,oBACG,OACA,OACA,aACA,cACA,MACA,cACA,mBACA,YACA,kBAEH,kCACG,OACA,OACA,kBACA,sBACA,eACA,6BACA,qBAEH,eAEG,UAAW,eAAgB,OAAQ,cAAe,WAElD,YAEA,wBAEH,uBACG,UACA,OACA,sBACA,gCACA,eACA,cACA,4BAEH,qBACG,OACA,eACA,4BAEH,wBACG,OACA,aACA,wBAEH,eACG,OACA,YACA,OACA,cACA,YACA,aAEH,kBACG,OACA,OACA,cACA,YACA,gBACA,kBAEH,UACG,OACA,YAEH,WACG,OACA,cACA,gBACA,OACA,cAIRrL,GAAA,GAeIsL,IAfW,SAePC,GACA,MAAIA,IAAcH,EAAiBI,IAAID,GAC5BH,EAAiBK,IAAIF,IAExB,OAAQ,YAAa,WH3I/BG,KACA,SAAU3L,EAAQC,EAAqBC,GAE7C,YI7WA,SAAA0L,GAAA3B,EAAAtF,EAAAzD,GAAmM,MAAxJyD,KAAAsF,GAAkBlJ,OAAAkF,eAAAgE,EAAAtF,GAAkCzD,QAAAC,YAAA,EAAAE,cAAA,EAAAD,UAAA,IAAgF6I,EAAAtF,GAAAzD,EAAoB+I,EAEnM,QAAAD,GAAAC,EAAAC,GAA8C,GAAArD,KAAiB,QAAAC,KAAAmD,GAAqBC,EAAAC,QAAArD,IAAA,GAAoC/F,OAAAD,UAAAwG,eAAA7G,KAAAwJ,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","file":"6-0bbe7f698e439acc56d9.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 1975:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(390);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__ = __webpack_require__(2426);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__ = __webpack_require__(793);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__ = __webpack_require__(397);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__ = __webpack_require__(2002);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__ = __webpack_require__(2521);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__ = __webpack_require__(392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__ = __webpack_require__(784);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__ = __webpack_require__(2093);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__ = __webpack_require__(2176);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__ = __webpack_require__(1979);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(2036);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction saveOrganisationUnitLevels(i18n) {\n    __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].saveOrganisationUnitLevels().subscribe(function () {\n        return __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: i18n.getTranslation('organisation_unit_levels_save_success') });\n    }, function () {\n        return __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: i18n.getTranslation('organisation_unit_levels_save_failed'), action: 'ok' });\n    });\n}\n\nfunction OrganisationUnitLevels(props, context) {\n    var canEdit = context.d2.currentUser.canUpdate(context.d2.models.organisationUnitLevel);\n\n    if (props.isLoading) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default.a, null);\n    }\n\n    var styles = {\n        paperWrap: {\n            padding: '4rem 5rem',\n            maxWidth: 700,\n            marginTop: '2rem'\n        },\n        rowStyle: {\n            display: 'flex',\n            flexDirection: 'row',\n            height: '5rem'\n        },\n        formWrapStyle: {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'row'\n        },\n        fieldWrapStyle: {\n            flex: 1,\n            paddingRight: '1rem'\n        },\n        translateButtonWrap: {\n            alignItems: 'flex-end',\n            display: 'flex',\n            flex: '5rem',\n            height: '5rem',\n            verticalAlign: 'middle'\n        }\n    };\n\n    var fieldRows = props.fieldsForOrganisationUnitLevel.map(function (fieldsForLevel, index) {\n        var translateButton = null;\n        if (fieldsForLevel.organisationUnitLevel.id && canEdit) {\n            translateButton = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.translateButtonWrap },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default.a,\n                    { iconClassName: 'material-icons', onClick: function onClick() {\n                            return props.onTranslateClick(fieldsForLevel.organisationUnitLevel);\n                        } },\n                    'translate'\n                )\n            );\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { key: index, style: styles.rowStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__[\"a\" /* default */], {\n                style: styles.formWrapStyle,\n                fieldWrapStyle: styles.fieldWrapStyle,\n                fields: fieldsForLevel.map(function (fieldConfig) {\n                    return _extends({}, fieldConfig, {\n                        props: _extends({}, fieldConfig.props, {\n                            disabled: !canEdit\n                        })\n                    });\n                }),\n                onUpdateField: function onUpdateField(fieldName, fieldValue) {\n                    __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].fieldUpdate({\n                        organisationUnitLevel: fieldsForLevel.organisationUnitLevel,\n                        fieldName: fieldName,\n                        fieldValue: fieldValue\n                    });\n                },\n                onUpdateFormStatus: function onUpdateFormStatus(formStatus) {\n                    return __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].updateFormStatus({ levelIndex: index, formStatus: formStatus });\n                }\n            }),\n            translateButton\n        );\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n            null,\n            context.d2.i18n.getTranslation('organisation_unit_level_management')\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default.a,\n            { style: styles.paperWrap },\n            fieldRows,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__[\"a\" /* default */],\n                null,\n                canEdit ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__[\"a\" /* default */], { onClick: function onClick() {\n                        return saveOrganisationUnitLevels(context.d2.i18n);\n                    }, isValid: props.formStatus.every(function (v) {\n                        return v;\n                    }), isSaving: props.isSaving }) : []\n            )\n        )\n    );\n}\nOrganisationUnitLevels.defaultProps = {\n    fieldsForOrganisationUnitLevel: [],\n    formStatus: [false],\n    isLoading: true,\n    isSaving: false\n};\nOrganisationUnitLevels.propTypes = {\n    fieldsForOrganisationUnitLevel: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array,\n    formStatus: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array,\n    isLoading: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].bool,\n    isSaving: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].bool\n};\n\nvar componentState$ = __WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__[\"a\" /* default */];\n\nvar OrganisationUnitLevelsWithState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__[\"a\" /* default */])(componentState$, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(OrganisationUnitLevels));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class() {\n        var _ref;\n\n        _classCallCheck(this, _class);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            translation: {\n                open: false\n            }\n        };\n\n        _this._onTranslateClick = _this._onTranslateClick.bind(_this);\n        _this._closeTranslationDialog = _this._closeTranslationDialog.bind(_this);\n        _this._translationSaved = _this._translationSaved.bind(_this);\n        _this._translationErrored = _this._translationErrored.bind(_this);\n        return _this;\n    }\n\n    _createClass(_class, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].initOrgUnitLevels();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(OrganisationUnitLevelsWithState, { onTranslateClick: this._onTranslateClick }),\n                this.state.translation.model ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translation.model,\n                    objectTypeToTranslate: this.state.translation.model && this.state.translation.model.modelDefinition,\n                    open: this.state.translation.open,\n                    onTranslationSaved: this._translationSaved,\n                    onTranslationError: this._translationErrored,\n                    onRequestClose: this._closeTranslationDialog,\n                    fieldsToTranslate: ['name']\n                }) : null\n            );\n        }\n    }, {\n        key: '_onTranslateClick',\n        value: function _onTranslateClick(data) {\n            var model = this.context.d2.models.organisationUnitLevel.create(data);\n\n            this.setState({\n                translation: {\n                    open: true,\n                    model: model\n                }\n            });\n        }\n    }, {\n        key: '_translationSaved',\n        value: function _translationSaved() {\n            __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.context.d2.i18n.getTranslation('translation_saved') });\n        }\n    }, {\n        key: '_translationErrored',\n        value: function _translationErrored() {\n            __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.context.d2.i18n.getTranslation('translation_save_error'), action: 'ok' });\n        }\n    }, {\n        key: '_closeTranslationDialog',\n        value: function _closeTranslationDialog() {\n            this.setState({\n                translation: {\n                    open: false,\n                    model: undefined\n                }\n            });\n        }\n    }]);\n\n    return _class;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component)));\n\n/***/ }),\n\n/***/ 1979:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\n\nHeading.propTypes = {\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOf([1, 2, 3, 4, 5, 6]),\n    text: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string\n};\n\nHeading.defaultProps = {\n    level: 1\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Heading);\n\n/***/ }),\n\n/***/ 1994:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar fieldOrderByName = new Map([['dataElement', ['name', 'shortName', 'code', 'style', 'description', 'formName', 'domainType', 'valueType', 'aggregationType', 'zeroIsSignificant', 'url', 'categoryCombo', 'optionSet', 'commentOptionSet', 'legendSets', 'aggregationLevels']], ['dataElementGroup', ['name', 'shortName', 'code', 'description', 'dataElements']], ['dataElementGroupSet', ['name', 'shortName', 'code', 'description', 'compulsory', 'dataDimension', 'dataElementGroups']], ['category', ['name', 'shortName', 'code', 'description', 'dataDimensionType', 'dataDimension', 'categoryOptions']], ['categoryOption', ['name', 'shortName', 'code', 'description', 'startDate', 'endDate', 'organisationUnits']], ['categoryCombo', ['name', 'shortName', 'code', 'dataDimensionType', 'skipTotal', 'categories']], ['categoryOptionGroup', ['name', 'shortName', 'code', 'description', 'dataDimensionType', 'categoryOptions']], ['categoryOptionGroupSet', ['name', 'description', 'dataDimension', 'dataDimensionType', 'categoryOptionGroups']], ['indicator', ['name', 'shortName', 'code', 'description', 'annualized', 'decimals', 'indicatorType', 'legendSets', 'url', 'aggregateExportCategoryOptionCombo', 'aggregateExportAttributeOptionCombo']], ['indicatorGroup', ['name', 'indicators']], ['indicatorType', ['name', 'factor']], ['indicatorGroupSet', ['name', 'description', 'compulsory', 'indicatorGroups']],\n// TODO: Split into field group\n['dataSet', ['name', 'shortName', 'code', 'style', 'description', 'expiryDays', 'openFuturePeriods', 'timelyDays', 'periodType', 'dataInputPeriods', 'categoryCombo', 'notificationRecipients', 'notifyCompletingUser', 'workflow', 'mobile', 'fieldCombinationRequired', 'validCompleteOnly', 'noValueRequiresComment', 'legendSets', 'skipOffline', 'dataElementDecoration', 'renderAsTabs', 'renderHorizontally', 'compulsoryFieldsCompleteOnly', 'dataSetElements', 'indicators', 'organisationUnits']], ['dataSetNotificationTemplate', [\n// Step 1\n'name', 'code', 'dataSets', 'messageTemplate',\n// Step 2\n'dataSetNotificationTrigger', 'relativeScheduledDays', 'sendStrategy',\n// Step 3\n'notificationRecipient', 'recipientUserGroup', 'deliveryChannels']], ['organisationUnit', ['name', 'shortName', 'code', 'description', 'openingDate', 'closedDate', 'comment', 'url', 'contactPerson', 'address', 'email', 'phoneNumber', 'coordinates', 'dataSets', 'programs']], ['organisationUnitGroup', ['name', 'shortName', 'code', 'description', 'color', 'symbol', 'organisationUnits']], ['organisationUnitGroupSet', ['name', 'shortName', 'code', 'description', 'compulsory', 'dataDimension', 'includeSubhierarchyInAnalytics', 'organisationUnitGroups']], ['organisationUnitLevel', ['name', 'offlineLevels']], ['constant', ['name', 'shortName', 'code', 'description', 'value']], ['attribute', ['name', 'shortName', 'code', 'description', 'valueType', 'optionSet', 'sortOrder', 'mandatory', 'unique', 'dataElementAttribute']], ['optionSet', ['name', 'code', 'description', 'valueType']], ['option', ['name', 'code', 'style']], ['legendSet', ['name', 'code', 'legends']], ['eventProgram', ['name', 'style', 'shortName', 'code', 'description', 'version', 'categoryCombo', 'workflow', 'completeEventsExpiryDays', 'expiryPeriodType', 'expiryDays']], ['eventProgramStage', ['blockEntryForm', 'featureType', 'validationStrategy', 'preGenerateUID', 'executionDateLabel']], ['trackerProgram', ['name', 'shortName', 'code', 'style', 'description', 'version', 'trackedEntityType', 'categoryCombo', 'workflow', 'displayFrontPageList', 'useFirstStageDuringRegistration', 'accessLevel', 'completeEventsExpiryDays', 'expiryPeriodType', 'expiryDays', 'programAttributes', 'minAttributesRequiredToSearch', 'maxTeiCountToReturn']],\n// Tracker-program\n['enrollment', ['selectEnrollmentDatesInFuture', 'selectIncidentDatesInFuture', 'onlyEnrollOnce', 'displayIncidentDate', 'incidentDateLabel', 'enrollmentDateLabel', 'ignoreOverdueEvents', 'featureType', 'relatedProgram']], ['programStage', ['name', 'style', 'description', 'minDaysFromStart', 'repeatable', 'periodType', 'displayGenerateEventBox', 'standardInterval', 'autoGenerateEvent', 'openAfterEnrollment', 'reportDateToUse', 'blockEntryForm', 'remindCompleted', 'allowGenerateNextVisit', 'generatedByEnrollmentDate', 'hideDueDate', 'featureType', 'preGenerateUID', 'executionDateLabel', 'dueDateLabel']], ['trackedEntityAttribute', ['name', 'shortName', 'formName', 'code', 'description', 'optionSet', 'valueType', 'aggregationType', 'unique', 'orgunitScope', 'generated', 'pattern', 'inherit', 'confidential', 'displayInListNoProgram', 'skipSynchronization', 'legendSets']], ['trackedEntityAttributeGroup', ['name', 'shortName', 'code', 'description', 'trackedEntityAttributes']], ['relationshipType', ['name', 'code', 'description', 'fromConstraint', 'toConstraint']], ['trackedEntityType', ['name', 'style', 'description', 'allowAuditLog', 'minAttributesRequiredToSearch', 'maxTeiCountToReturn', 'featureType', 'trackedEntityTypeAttributes']], ['programIndicator', ['program', 'name', 'shortName', 'code', 'description', 'decimals', 'aggregationType', 'analyticsType', 'analyticsPeriodBoundaries', 'displayInForm', 'legendSets', 'aggregateExportCategoryOptionCombo', 'aggregateExportAttributeOptionCombo', 'expression', 'filter']], ['programIndicatorGroup', ['name', 'code', 'programIndicators']], ['validationRule', ['name', 'shortName', 'code', 'description', 'instruction', 'importance', 'ruleType', 'importance', 'ruleType', 'periodType', 'leftSide', 'operator', 'rightSide', 'organisationUnitLevels', 'skipFormValidation']], ['validationRuleGroup', ['name', 'shortName', 'code', 'description', 'validationRules']], ['predictor', ['name', 'shortName', 'code', 'description', 'output', 'periodType', 'organisationUnitLevels', 'generator', 'sampleSkipTest', 'sequentialSampleCount', 'annualSampleCount', 'sequentialSkipCount']], ['predictorGroup', ['name', 'code', 'description', 'predictors']], ['pushAnalysis', ['name', 'code', 'title', 'message', 'dashboard', 'recipientUserGroups', 'schedulingFrequency', 'enabled']], ['externalMapLayer', ['name', 'code', 'mapService', 'imageFormat', 'url', 'attribution', 'mapLayerPosition', 'legendSet', 'legendSetUrl']], ['validationNotificationTemplate', ['name', 'code', 'validationRules', 'recipientUserGroups', 'sendStrategy', 'notifyUsersInHierarchyOnly', 'messageTemplate']], ['programRule', [\n// Step 1\n'program', 'programStage', 'name', 'description', 'priority',\n// Step 2\n'condition',\n// Step 3\n'programRuleActions']], ['programRuleVariable', ['program', 'name', 'useCodeForOptionSet', 'programRuleVariableSourceType', 'programStage', 'dataElement', 'trackedEntityAttribute']], ['dataApprovalLevel', ['name', 'orgUnitLevel', 'categoryOptionGroupSet']], ['dataApprovalWorkflow', ['name', 'periodType', 'dataApprovalLevels']], ['optionGroup', ['name', 'shortName', 'code', 'description', 'optionSet', 'options']], ['optionGroupSet', ['name', 'code', 'description', 'optionSet', 'dataDimension', 'optionGroups']], ['locale', ['name', 'locale']], ['sqlView', ['name', 'description', 'cacheStrategy', 'type', 'sqlQuery']]]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    /**\n     * @method\n     *\n     * @params {String} schemaName The name of the schema for which to get the field order\n     * @returns {Array} An arraylist of field names\n     * This can be used to set field order on the `FormFieldsManager`\n     *\n     * @example\n     * ```\n     * import fieldOrder from 'field-order';\n     *\n     * let dataElementFields = fieldOrder.for('dataElement');\n     * ```\n     */\n    for: function _for(schemaName) {\n        if (schemaName && fieldOrderByName.has(schemaName)) {\n            return fieldOrderByName.get(schemaName);\n        }\n        return ['name', 'shortName', 'code'];\n    }\n});\n\n/***/ }),\n\n/***/ 2002:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(2091);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AsyncValidatorRunner__ = __webpack_require__(2173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__circular_progress_CircularProgress__ = __webpack_require__(781);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar noop = function noop() {};\n\nvar FormBuilder = function (_React$Component) {\n    _inherits(FormBuilder, _React$Component);\n\n    function FormBuilder(props) {\n        _classCallCheck(this, FormBuilder);\n\n        var _this = _possibleConstructorReturn(this, (FormBuilder.__proto__ || Object.getPrototypeOf(FormBuilder)).call(this, props));\n\n        _this.state = _this.initState(props);\n        _this.asyncValidators = _this.createAsyncValidators(props);\n        _this.asyncValidationRunner = props.asyncValidationRunner || new __WEBPACK_IMPORTED_MODULE_3__AsyncValidatorRunner__[\"a\" /* default */]();\n\n        _this.getFieldProp = _this.getFieldProp.bind(_this);\n        _this.getStateClone = _this.getStateClone.bind(_this);\n        return _this;\n    }\n\n    /**\n     * Called by React when the component receives new props, but not on the initial render.\n     *\n     * State is calculated based on the incoming props, in such a way that existing form fields\n     * are updated as necessary, but not overridden. See the initState function for details.\n     *\n     * @param props\n     */\n\n\n    _createClass(FormBuilder, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            this.asyncValidators = this.createAsyncValidators(props);\n\n            var clonedState = this.getStateClone();\n\n            props.fields\n            // Only check fields that are set on the component state\n            .filter(function (field) {\n                return _this2.state && _this2.state.fields && _this2.state.fields[field.name];\n            })\n            // Filter out fields where the values changed\n            .filter(function (field) {\n                return field.value !== _this2.state.fields[field.name].value;\n            })\n            // Change field value and run validators for the field\n            .forEach(function (field) {\n                clonedState.fields[field.name].value = field.value;\n                _this2.validateField(clonedState, field.name, field.value);\n            });\n\n            this.setState(clonedState);\n        }\n\n        /**\n         * Custom state deep copy function\n         *\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'getStateClone',\n        value: function getStateClone() {\n            var _this3 = this;\n\n            return {\n                form: {\n                    pristine: this.state.form.pristine,\n                    valid: this.state.form.valid,\n                    validating: this.state.form.validating\n                },\n                fields: Object.keys(this.state.fields).reduce(function (p, c) {\n                    p[c] = {\n                        pristine: _this3.state.fields[c].pristine,\n                        validating: _this3.state.fields[c].validating,\n                        valid: _this3.state.fields[c].valid,\n                        value: _this3.state.fields[c].value,\n                        error: _this3.state.fields[c].error\n                    };\n                    return p;\n                }, {})\n            };\n        }\n\n        /**\n         * Render the form fields.\n         *\n         * @returns {*} An array containing markup for each form field\n         */\n\n    }, {\n        key: 'renderFields',\n        value: function renderFields() {\n            var _this4 = this;\n\n            var styles = {\n                field: {\n                    position: 'relative'\n                },\n                progress: this.props.validatingProgressStyle,\n                validatingErrorStyle: {\n                    color: 'orange'\n                }\n            };\n\n            return this.props.fields.map(function (field) {\n                var _ref = field.props || {},\n                    errorTextProp = _ref.errorTextProp,\n                    props = _objectWithoutProperties(_ref, ['errorTextProp']);\n\n                var fieldState = _this4.state.fields[field.name] || {};\n\n                var changeHandler = _this4.handleFieldChange.bind(_this4, field.name);\n\n                var onBlurChangeHandler = props.changeEvent === 'onBlur' ? function (e) {\n                    var stateClone = _this4.updateFieldState(_this4.getStateClone(), field.name, { value: e.target.value });\n                    _this4.validateField(stateClone, field.name, e.target.value);\n                    _this4.setState(stateClone);\n                } : undefined;\n\n                var errorText = fieldState && fieldState.validating ? field.validatingLabelText || _this4.props.validatingLabelText : errorTextProp;\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: field.name, style: Object.assign({}, styles.field, _this4.props.fieldWrapStyle) },\n                    fieldState.validating ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate', size: 0.33, style: styles.progress }) : undefined,\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(field.component, _extends({\n                        value: fieldState.value,\n                        onChange: props.changeEvent && props.changeEvent === 'onBlur' ? onBlurChangeHandler : changeHandler,\n                        onBlur: props.changeEvent && props.changeEvent === 'onBlur' ? changeHandler : undefined,\n                        errorStyle: fieldState.validating ? styles.validatingErrorStyle : undefined,\n                        errorText: fieldState.valid ? errorText : fieldState.error\n                    }, props))\n                );\n            });\n        }\n\n        /**\n         * Render the component\n         *\n         * @returns {XML}\n         */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: this.props.style },\n                this.renderFields()\n            );\n        }\n\n        /**\n         * Calculates initial state based on the provided props and the existing state, if any.\n         *\n         * @param props\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'initState',\n        value: function initState(props) {\n            var _this5 = this;\n\n            var state = {\n                fields: props.fields.reduce(function (fields, field) {\n                    var currentFieldState = _this5.state && _this5.state.fields && _this5.state.fields[field.name];\n                    return Object.assign(fields, _defineProperty({}, field.name, {\n                        value: currentFieldState !== undefined && !currentFieldState.pristine ? currentFieldState.value : field.value,\n                        pristine: currentFieldState !== undefined ? currentFieldState.value === field.value : true,\n                        validating: currentFieldState !== undefined ? currentFieldState.validating : false,\n                        valid: currentFieldState !== undefined ? currentFieldState.valid : true,\n                        error: currentFieldState && currentFieldState.error || undefined\n                    }));\n                }, {})\n            };\n            state.form = {\n                pristine: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].pristine;\n                }, true),\n                validating: Object.keys(state.fields).reduce(function (p, c) {\n                    return p || state.fields[c].validating;\n                }, false),\n                valid: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].valid;\n                }, true)\n            };\n            return state;\n        }\n\n        /**\n         * Create an object with a property for each field that has async validators, which is later used\n         * to store Rx.Observable's for any currently running async validators\n         *\n         * @param props\n         * @returns {*}\n         */\n\n    }, {\n        key: 'createAsyncValidators',\n        value: function createAsyncValidators(props) {\n            var _this6 = this;\n\n            return props.fields.filter(function (field) {\n                return Array.isArray(field.asyncValidators) && field.asyncValidators.length;\n            }).reduce(function (p, currentField) {\n                p[currentField.name] = _this6.asyncValidators && _this6.asyncValidators[currentField.name] || undefined;\n                return p;\n            }, {});\n        }\n\n        /**\n         * Cancel the currently running async validators for the specified field name, if any.\n         *\n         * @param fieldName\n         */\n\n    }, {\n        key: 'cancelAsyncValidators',\n        value: function cancelAsyncValidators(fieldName) {\n            if (this.asyncValidators[fieldName]) {\n                this.asyncValidators[fieldName].unsubscribe();\n                this.asyncValidators[fieldName] = undefined;\n            }\n        }\n\n        /**\n         * Utility method to mutate the provided state object in place\n         *\n         * @param state A state object\n         * @param fieldName A valid field name\n         * @param fieldState Mutations to apply to the specified field name\n         * @returns {*} A reference to the mutated state object for chaining\n         */\n\n    }, {\n        key: 'updateFieldState',\n        value: function updateFieldState(state, fieldName, fieldState) {\n            var fieldProp = this.getFieldProp(fieldName);\n            state.fields[fieldName] = {\n                pristine: fieldState.pristine !== undefined ? !!fieldState.pristine : state.fields[fieldName].value === fieldProp.value,\n                validating: fieldState.validating !== undefined ? !!fieldState.validating : state.fields[fieldName].validating,\n                valid: fieldState.valid !== undefined ? !!fieldState.valid : state.fields[fieldName].valid,\n                error: fieldState.error,\n                value: fieldState.value !== undefined ? fieldState.value : state.fields[fieldName].value\n            };\n\n            // Form state is a composite of field states\n            var fieldNames = Object.keys(state.fields);\n            state.form = {\n                pristine: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].pristine;\n                }, true),\n                validating: fieldNames.reduce(function (p, current) {\n                    return p || state.fields[current].validating;\n                }, false),\n                valid: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].valid;\n                }, true)\n            };\n\n            return state;\n        }\n\n        /**\n         * Field value change event\n         *\n         * This is called whenever the value of the specified field has changed. This will be the onChange event handler, unless\n         * the changeEvent prop for this field is set to 'onBlur'.\n         *\n         * The change event is processed as follows:\n         *\n         * - If the value hasn't actually changed, processing stops\n         * - The field status is set to [not pristine]\n         * - Any currently running async validators are cancelled\n         *\n         * - All synchronous validators are called in the order specified\n         * - If a validator fails:\n         *    - The field status is set to invalid\n         *    - The field error message is set to the error message for the validator that failed\n         *    - Processing stops\n         *\n         * - If all synchronous validators pass:\n         *    - The field status is set to [valid]\n         *    - If there are NO async validators for the field:\n         *       - The onUpdateField callback is called, and processing is finished\n         *\n         * - If there ARE async validators for the field:\n         *    - All async validators are started immediately\n         *    - The field status is set to [valid, validating]\n         *    - The validators keep running asynchronously, but the handleFieldChange function terminates\n         *\n         * - The async validators keep running in the background until ONE of them fail, or ALL of them succeed:\n         * - The first async validator to fail causes all processing to stop:\n         *    - The field status is set to [invalid, not validating]\n         *    - The field error message is set to the value that the validator rejected with\n         * - If all async validators complete successfully:\n         *    - The field status is set to [valid, not validating]\n         *    - The onUpdateField callback is called\n         *\n         * @param fieldName The name of the field that changed.\n         * @param event An event object. Only `event.target.value` is used.\n         */\n\n    }, {\n        key: 'handleFieldChange',\n        value: function handleFieldChange(fieldName, event) {\n            var _this7 = this;\n\n            var newValue = event.target.value;\n\n            var field = this.getFieldProp(fieldName);\n\n            // If the field has changeEvent=onBlur the change handler is triggered whenever the field loses focus.\n            // So if the value didn't actually change, abort the change handler here.\n            if (field.props && field.props.changeEvent === 'onBlur' && newValue === field.value) {\n                return;\n            }\n\n            // Using custom clone function to maximize speed, albeit more error prone\n            var stateClone = this.getStateClone();\n\n            // Update value, and set pristine to false\n            this.setState(this.updateFieldState(stateClone, fieldName, { pristine: false, value: newValue }), function () {\n                if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"isObject\"])(newValue) && newValue === (field.value ? field.value : '')) {\n                    _this7.props.onUpdateField(fieldName, newValue);\n                    return;\n                }\n\n                // Cancel async validators in progress (if any)\n                if (_this7.asyncValidators[fieldName]) {\n                    _this7.cancelAsyncValidators(fieldName);\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { validating: false }));\n                }\n\n                // Run synchronous validators\n                var validatorResult = _this7.validateField(stateClone, fieldName, newValue);\n\n                // Async validators - only run if sync validators pass\n                if (validatorResult === true) {\n                    _this7.runAsyncValidators(field, stateClone, fieldName, newValue);\n                } else {\n                    // Sync validators failed set field status to false\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { valid: false, error: validatorResult }), function () {\n                        // Also emit when the validator result is false\n                        _this7.props.onUpdateFormStatus(_this7.state.form);\n                        _this7.props.onUpdateField(fieldName, newValue);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'runAsyncValidators',\n        value: function runAsyncValidators(field, stateClone, fieldName, newValue) {\n            var _this8 = this;\n\n            if ((field.asyncValidators || []).length > 0) {\n                // Set field and form state to 'validating'\n                this.setState(this.updateFieldState(stateClone, fieldName, { validating: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n\n                    // TODO: Subscription to validation results could be done once in `componentDidMount` and be\n                    // disposed in the `componentWillUnmount` method. This way we don't have to create the\n                    // subscription every time the field is changed.\n                    _this8.asyncValidators[fieldName] = _this8.asyncValidationRunner.listenToValidatorsFor(fieldName, stateClone).subscribe(function (status) {\n                        _this8.setState(_this8.updateFieldState(_this8.getStateClone(), status.fieldName, {\n                            validating: false,\n                            valid: status.isValid,\n                            error: status.message\n                        }), function () {\n                            _this8.cancelAsyncValidators(status.fieldName);\n                            _this8.props.onUpdateFormStatus(_this8.state.form);\n                        });\n                    });\n\n                    _this8.asyncValidationRunner.run(fieldName, field.asyncValidators, newValue);\n                });\n            } else {\n                this.setState(this.updateFieldState(stateClone, fieldName, { valid: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n                });\n            }\n        }\n\n        /**\n         * Run all synchronous validators (if any) for the field and value, and update the state clone depending on the\n         * outcome\n         *\n         * @param stateClone A clone of the current state\n         * @param fieldName The name of the field to validate\n         * @param newValue The value to validate\n         * @returns {true|String} The error message from the first validator that fails, or true if they all pass\n         */\n\n    }, {\n        key: 'validateField',\n        value: function validateField(stateClone, fieldName, newValue) {\n            var field = this.getFieldProp(fieldName);\n\n            var validatorResult = (field.validators || []).reduce(function (pass, currentValidator) {\n                return pass === true ? currentValidator.validator(newValue, stateClone) === true || currentValidator.message : pass;\n            }, true);\n            if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"get\"])(field, 'fieldOptions.disabled')) {\n                validatorResult = true;\n            }\n\n            this.updateFieldState(stateClone, fieldName, {\n                valid: validatorResult === true,\n                error: validatorResult === true ? undefined : validatorResult\n            });\n\n            return validatorResult;\n        }\n\n        /**\n         * Retreive the field that has the specified field name\n         *\n         * @param fieldName\n         * @returns {}\n         */\n\n    }, {\n        key: 'getFieldProp',\n        value: function getFieldProp(fieldName) {\n            return this.props.fields.filter(function (f) {\n                return f.name === fieldName;\n            })[0];\n        }\n    }]);\n\n    return FormBuilder;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n/**\n * Component prop types\n * @type {{fields: (Object|isRequired), validatingLabelText: *, validatingProgressStyle: *, onUpdateField: (Function|isRequired)}}\n */\n\n\nFormBuilder.propTypes = {\n    fields: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any,\n        component: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n        props: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n            changeEvent: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOf(['onChange', 'onBlur'])\n        }),\n        validators: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n            validator: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n            message: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n        })),\n        asyncValidators: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired),\n        validatingLabelText: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string\n    })).isRequired,\n    validatingLabelText: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    validatingProgressStyle: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object,\n    onUpdateField: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onUpdateFormStatus: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    style: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object,\n    fieldWrapStyle: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/**\n * Default values for optional props\n * @type {{validatingLabelText: string, validatingProgressStyle: {position: string, right: number, top: number}}}\n */\nFormBuilder.defaultProps = {\n    validatingLabelText: 'Validating...',\n    validatingProgressStyle: {\n        position: 'absolute',\n        right: -12,\n        top: 16\n    },\n    onUpdateFormStatus: noop\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormBuilder);\n\n/***/ }),\n\n/***/ 2036:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__ = __webpack_require__(788);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__ = __webpack_require__(2062);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TranslationDialog);\n\n/***/ }),\n\n/***/ 2061:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__ = __webpack_require__(787);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__ = __webpack_require__(235);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nLocaleSelector.propTypes = {\n    value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    locales: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        locale: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    })).isRequired,\n    onChange: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (LocaleSelector);\n\n/***/ }),\n\n/***/ 2062:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(779);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(780);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__ = __webpack_require__(2061);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__translationForm_actions__ = __webpack_require__(2063);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__ = __webpack_require__(793);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store_Store__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__ = __webpack_require__(781);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_9__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_5_rxjs__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"c\" /* saveTranslations */])(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: fieldName },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, {\n                        floatingLabelText: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }),\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (TranslationForm);\n\n/***/ }),\n\n/***/ 2063:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__action_Action__ = __webpack_require__(125);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_2__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 2093:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(780);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(390);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\nfunction SaveButton(props, _ref) {\n    var d2 = _ref.d2;\n\n    var isSaving = props.isSaving,\n        isValid = props.isValid,\n        onClick = props.onClick,\n        rest = _objectWithoutProperties(props, ['isSaving', 'isValid', 'onClick']);\n\n    var buttonText = isSaving ? d2.i18n.getTranslation('saving') : d2.i18n.getTranslation('save');\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_RaisedButton_RaisedButton___default.a, _extends({}, rest, { primary: true, onClick: onClick, label: buttonText, disabled: isSaving }));\n}\n\nSaveButton.propTypes = {\n    isSaving: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    isValid: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onClick: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\nSaveButton.defaultProps = { isSaving: false, isValid: true };\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(SaveButton));\n\n/***/ }),\n\n/***/ 2173:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n/**\n * Run `validatorFunctions` in parallel and returns a resolved `Promise` with the validation status.\n * @param {function:Promise[]} validatorFunctions Array of validator functions that return a Promise.\n * @param {*} value The value that should be checked by the given validators\n * @returns {Promise.<Object>} Resolves promise with `{ isValid: true }` when validators passed\n * or with `{ isValid: false, message: '<error_message>'`} when one of the validators failed. The `message` property\n * contains the value that the failed validator function rejected with.\n */\nfunction runValidatorFunctions(validatorFunctions, value, formState) {\n    return Promise.all(validatorFunctions.map(function (validator) {\n        return validator.call(null, value, formState);\n    }))\n    // All validators passed\n    .then(function () {\n        return { isValid: true };\n    })\n    // When one of the validators failed a failure status with error message are emitted\n    .catch(function (errorMessage) {\n        return { isValid: false, message: errorMessage };\n    });\n}\n\n/**\n *\n */\n\nvar AsyncValidatorRunner = function () {\n    /**\n     *\n     * @param {Rx.Scheduler} [scheduler] Optional scheduler to be used for the Rx methods that can accept one.\n     */\n    function AsyncValidatorRunner(scheduler) {\n        _classCallCheck(this, AsyncValidatorRunner);\n\n        // Rx.Scheduler to be used to run the operations on\n        this.scheduler = scheduler;\n\n        // Rx.Subject that will serve as the validator pipeline\n        // The Runner passes the fields and values and emits\n        // success\n        this.validatorPipeline = new __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Subject\"]();\n\n        // The amount of time to be used for debouncing the field values\n        this.debounceTimeInMs = 400;\n    }\n\n    /**\n     * Run the `asyncValidators` passed for the field with `fieldName`. `fieldName` is only\n     * used to pass through to the result so `listenToValidatorsFor` can identify which field\n     * the result belong to.\n     *\n     * @param {string} fieldName The name of the field\n     * @param {Array<Function>} asyncValidators An array of functions that each return a Promise thar resolves on valid\n     * and rejects on failure.\n     * @param {*} value The value that should be checked for validity.\n     *\n     * @returns {AsyncValidatorObject} Returns itself for chaining purposes\n     */\n\n\n    _createClass(AsyncValidatorRunner, [{\n        key: 'run',\n        value: function run(fieldName) {\n            var asyncValidators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var value = arguments[2];\n\n            this.validatorPipeline.next({ fieldName: fieldName, asyncValidators: asyncValidators, value: value });\n\n            return this;\n        }\n\n        /**\n         * Returns an Rx.Observable that can be subscribed to to be updated of validation results for the field\n         * with `fieldName`. This function when subscribing runs the validators that are passed for the given field when\n         * `run` was called. This allows for only running the validators that are at the time the validation request was\n         * issued were applicable to the field.\n         *\n         * @param {string} fieldName The name of the field to filter statuses for.\n         * @returns {Rx.Observable} Observable that represents validation results for the given `fieldName`.\n         */\n\n    }, {\n        key: 'listenToValidatorsFor',\n        value: function listenToValidatorsFor(fieldName, formState) {\n            return this.validatorPipeline\n            // Filter the values by fieldName to make sure we only deal with the values for the requested field\n            .filter(function (field) {\n                return field.fieldName === fieldName;\n            })\n            // Only process the latest value within the specified time window\n            .debounceTime(this.debounceTimeInMs, this.scheduler)\n            // .do((v) => console.log(v.value))\n            .map(function (field) {\n                return __WEBPACK_IMPORTED_MODULE_0_rxjs__[\"Observable\"].fromPromise(runValidatorFunctions(field.asyncValidators, field.value, formState)).map(function (status) {\n                    return Object.assign(status, { fieldName: field.fieldName, value: field.value });\n                });\n            })\n            // Flatten all observables in the correct order they should be processed\n            .concatAll();\n            // .do((v) => console.log(v));\n        }\n\n        /**\n         * Creates an instance of the AsyncValidatorRunner class\n         *\n         * @param {Rx.Scheduler} scheduler A scheduler to be used while running the pipeline operations\n         * @returns {AsyncValidatorRunner} The instantiated runner\n         * @static\n         */\n\n    }], [{\n        key: 'create',\n        value: function create(scheduler) {\n            return new AsyncValidatorRunner(scheduler);\n        }\n    }]);\n\n    return AsyncValidatorRunner;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AsyncValidatorRunner);\n\n/***/ }),\n\n/***/ 2176:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = FormButtons;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__);\n\n\n\nfunction FormButtons(props) {\n    var defaultStyle = {\n        marginTop: '1rem'\n    };\n\n    var buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem'\n    };\n\n    var buttonsToRender = __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default()(props.children) ? props.children : [props.children];\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: Object.assign(defaultStyle, props.style) },\n        buttonsToRender.map(function (child, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(child, {\n                style: buttonStyle,\n                key: index\n            });\n        })\n    );\n}\nFormButtons.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.oneOfType([__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array, __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object]).isRequired,\n    isFormValid: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n/***/ }),\n\n/***/ 2426:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__ = __webpack_require__(48);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__[\"a\" /* default */].create());\n\n/***/ }),\n\n/***/ 2521:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__ = __webpack_require__(2426);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(779);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__ = __webpack_require__(787);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__ = __webpack_require__(235);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__ = __webpack_require__(1994);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar loadOrganisationUnitLevels = function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var d2, api;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context.sent;\n                        api = d2.Api.getApi();\n                        _context.next = 6;\n                        return api.get('filledOrganisationUnitLevels');\n\n                    case 6:\n                        return _context.abrupt('return', _context.sent);\n\n                    case 7:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function loadOrganisationUnitLevels() {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nvar getOrganisationUnitLevelFormFields = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var d2;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n                switch (_context2.prev = _context2.next) {\n                    case 0:\n                        _context2.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context2.sent;\n                        return _context2.abrupt('return', fieldForOrganisationUnitLevels.map(function (fieldName) {\n                            var fieldOption = fieldOptions.get(fieldName) || {};\n\n                            return {\n                                name: fieldName,\n                                component: fieldOption.component || __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a,\n                                props: Object.assign({\n                                    floatingLabelText: d2.i18n.getTranslation(__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName))\n                                }, fieldOption.props),\n                                validators: [{\n                                    validator: isNameUnique,\n                                    message: d2.i18n.getTranslation('value_not_unique')\n                                }]\n                            };\n                        }));\n\n                    case 4:\n                    case 'end':\n                        return _context2.stop();\n                }\n            }\n        }, _callee2, this);\n    }));\n\n    return function getOrganisationUnitLevelFormFields() {\n        return _ref2.apply(this, arguments);\n    };\n}();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar fieldForOrganisationUnitLevels = __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__[\"a\" /* default */].for('organisationUnitLevel');\n\nvar actions = __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__[\"a\" /* default */].createActionsFromNames(['initOrgUnitLevels', 'fieldUpdate', 'updateFormStatus', 'saveOrganisationUnitLevels']);\n\nfunction DropDownFieldForOfflineLevels(props) {\n    var options = props.options,\n        otherProps = _objectWithoutProperties(props, ['options']);\n\n    var availableOptions = [{ value: undefined, text: 'Default', label: ' ' }].concat(options.map(function (option) {\n        return { value: option, text: option, label: option };\n    })).map(function (option, index) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.value, label: option.label });\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default.a,\n        _extends({}, otherProps, { onChange: function onChange(event, index, value) {\n                return props.onChange({ target: { value: value } });\n            } }),\n        availableOptions\n    );\n}\n\nDropDownFieldForOfflineLevels.propTypes = {\n    options: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array\n};\n\nvar fieldOptions = new Map([['name', {\n    component: __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a\n}], ['offlineLevels', {\n    component: DropDownFieldForOfflineLevels,\n    props: {\n        options: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n    }\n}]]);\n\nfunction isNameUnique(name) {\n    return __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].state.fieldsForOrganisationUnitLevel.map(function (fieldConfigs) {\n        return fieldConfigs.filter(function (fieldConfig) {\n            return fieldConfig.name === 'name';\n        }).some(function (fieldConfig) {\n            return fieldConfig.value === name;\n        });\n    }).every(function (result) {\n        return result === false;\n    });\n}\n\nvar organisationUnitLevelFormFields$ = __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].fromPromise(getOrganisationUnitLevelFormFields());\n\nfunction getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields) {\n    return organisationUnitLevels.map(function (ouLevel) {\n        var result = organisationUnitLevelFormFields.map(function (fieldConfig) {\n            return Object.assign({}, fieldConfig, { value: ouLevel[fieldConfig.name] });\n        });\n\n        result.organisationUnitLevel = ouLevel;\n        return result;\n    });\n}\n\nfunction buildFormStatus(_ref3) {\n    var data = _ref3.data;\n\n    return __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState().formStatus.map(function (status, index) {\n        if (index === data.levelIndex) {\n            return data.formStatus.valid;\n        }\n        return status;\n    });\n}\n\nactions.updateFormStatus.map(buildFormStatus).subscribe(function (formStatusForAllLevels) {\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(Object.assign({}, __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(), { formStatus: formStatusForAllLevels }));\n});\n\nactions.initOrgUnitLevels.flatMap(function () {\n    return __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].combineLatest(__WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].fromPromise(loadOrganisationUnitLevels()), organisationUnitLevelFormFields$, function (organisationUnitLevels, organisationUnitLevelFormFields) {\n        return { organisationUnitLevels: organisationUnitLevels, organisationUnitLevelFormFields: organisationUnitLevelFormFields };\n    });\n}).map(function (_ref4) {\n    var organisationUnitLevels = _ref4.organisationUnitLevels,\n        organisationUnitLevelFormFields = _ref4.organisationUnitLevelFormFields;\n\n    var fieldConfigsForAllLevels = getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields);\n\n    return {\n        fieldConfigsForAllLevels: fieldConfigsForAllLevels,\n        organisationUnitLevels: organisationUnitLevels\n    };\n}).subscribe(function (_ref5) {\n    var fieldConfigsForAllLevels = _ref5.fieldConfigsForAllLevels,\n        organisationUnitLevels = _ref5.organisationUnitLevels;\n\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState({\n        isSaving: false,\n        isLoading: false,\n        fieldsForOrganisationUnitLevel: fieldConfigsForAllLevels,\n        formStatus: fieldConfigsForAllLevels.map(function () {\n            return true;\n        }),\n        organisationUnitLevels: organisationUnitLevels\n    });\n});\n\n// FIXME: Weird solution to make an action usable with Observable.combineLatest. Also actions are never unsubscribed.\nvar fieldUpdateSubject$ = new __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"ReplaySubject\"](1);\nactions.fieldUpdate.subscribe(function (action) {\n    return fieldUpdateSubject$.next(action);\n});\n\n__WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].combineLatest(fieldUpdateSubject$, organisationUnitLevelFormFields$, function (action, organisationUnitLevelFormFields) {\n    return { action: action, organisationUnitLevelFormFields: organisationUnitLevelFormFields };\n}).map(function (_ref6) {\n    var action = _ref6.action,\n        organisationUnitLevelFormFields = _ref6.organisationUnitLevelFormFields;\n    return _extends({}, action.data, {\n        storeState: __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(),\n        organisationUnitLevelFormFields: organisationUnitLevelFormFields\n    });\n}).subscribe(function (_ref7) {\n    var _ref7$storeState = _ref7.storeState,\n        storeState = _ref7$storeState === undefined ? { organisationUnitLevels: [] } : _ref7$storeState,\n        fieldName = _ref7.fieldName,\n        fieldValue = _ref7.fieldValue,\n        organisationUnitLevel = _ref7.organisationUnitLevel,\n        organisationUnitLevelFormFields = _ref7.organisationUnitLevelFormFields;\n\n    var organisationUnitToChangeValueFor = storeState.organisationUnitLevels.find(function (ouLevel) {\n        return ouLevel === organisationUnitLevel;\n    });\n\n    if (organisationUnitToChangeValueFor && fieldName) {\n        organisationUnitToChangeValueFor[fieldName] = fieldValue;\n    }\n\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(Object.assign({}, storeState, {\n        organisationUnitLevels: storeState.organisationUnitLevels,\n        fieldsForOrganisationUnitLevel: getFieldConfigsForAllFields(storeState.organisationUnitLevels, organisationUnitLevelFormFields)\n    }));\n});\n\nfunction saveOrganisationUnitLevels(action) {\n    var organisationUnitLevels = action.organisationUnitLevels,\n        complete = action.complete,\n        error = action.error;\n\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        return d2.Api.getApi();\n    }).then(function (api) {\n        return api.post('filledOrganisationUnitLevels', { organisationUnitLevels: organisationUnitLevels }, { dataType: 'text' });\n    }).then(function () {\n        return complete;\n    }).catch(function () {\n        return error;\n    });\n}\n\nactions.saveOrganisationUnitLevels.map(function (action) {\n    return _extends({\n        organisationUnitLevels: __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState().organisationUnitLevels.map(function (_ref8) {\n            var name = _ref8.name,\n                level = _ref8.level,\n                offlineLevels = _ref8.offlineLevels;\n            return { name: name, level: level, offlineLevels: offlineLevels };\n        })\n    }, action);\n}).do(function () {\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(_extends({}, __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(), {\n        isSaving: true\n    }));\n}).flatMap(function (action) {\n    return __WEBPACK_IMPORTED_MODULE_2_rxjs__[\"Observable\"].fromPromise(saveOrganisationUnitLevels(action));\n}).subscribe(function (callback) {\n    callback.call();\n    actions.initOrgUnitLevels();\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (actions);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 6-0bbe7f698e439acc56d9.js","import React, { PropTypes } from 'react';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport organisationUnitLevelsStore from './organisationUnitLevels.store';\nimport withStateFrom from 'd2-ui/lib/component-helpers/withStateFrom';\nimport LinearProgress from 'material-ui/LinearProgress/LinearProgress';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport actions from './organisationUnitLevels.actions';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport Paper from 'material-ui/Paper/Paper';\nimport SaveButton from '../EditModel/SaveButton.component';\nimport FormButtons from '../EditModel/FormButtons.component';\nimport snackActions from '../Snackbar/snack.actions';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\n\nfunction saveOrganisationUnitLevels(i18n) {\n    actions.saveOrganisationUnitLevels()\n        .subscribe(\n            () => snackActions.show({ message: i18n.getTranslation('organisation_unit_levels_save_success') }),\n            () => snackActions.show({ message: i18n.getTranslation('organisation_unit_levels_save_failed'), action: 'ok' })\n        );\n}\n\nfunction OrganisationUnitLevels(props, context) {\n    const canEdit = context.d2.currentUser.canUpdate(context.d2.models.organisationUnitLevel);\n\n    if (props.isLoading) {\n        return (\n            <LinearProgress />\n        );\n    }\n\n    const styles = {\n        paperWrap: {\n            padding: '4rem 5rem',\n            maxWidth: 700,\n            marginTop: '2rem',\n        },\n        rowStyle: {\n            display: 'flex',\n            flexDirection: 'row',\n            height: '5rem',\n        },\n        formWrapStyle: {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        fieldWrapStyle: {\n            flex: 1,\n            paddingRight: '1rem',\n        },\n        translateButtonWrap: {\n            alignItems: 'flex-end',\n            display: 'flex',\n            flex: '5rem',\n            height: '5rem',\n            verticalAlign: 'middle',\n        },\n    };\n\n    const fieldRows = props.fieldsForOrganisationUnitLevel.map((fieldsForLevel, index) => {\n        let translateButton = null;\n        if (fieldsForLevel.organisationUnitLevel.id && canEdit) {\n            translateButton = (\n                <div style={styles.translateButtonWrap}>\n                    <IconButton iconClassName=\"material-icons\" onClick={() => props.onTranslateClick(fieldsForLevel.organisationUnitLevel)}>translate</IconButton>\n                </div>\n            );\n        }\n\n        return (\n            <div key={index} style={styles.rowStyle}>\n                <FormBuilder\n                    style={styles.formWrapStyle}\n                    fieldWrapStyle={styles.fieldWrapStyle}\n                    fields={fieldsForLevel.map(fieldConfig => ({\n                        ...fieldConfig,\n                        props: {\n                            ...fieldConfig.props,\n                            disabled: !canEdit,\n                        },\n                    }))}\n                    onUpdateField={(fieldName, fieldValue) => {\n                        actions.fieldUpdate({\n                            organisationUnitLevel: fieldsForLevel.organisationUnitLevel,\n                            fieldName,\n                            fieldValue,\n                        });\n                    }}\n                    onUpdateFormStatus={formStatus => actions.updateFormStatus({ levelIndex: index, formStatus })}\n                />\n                {translateButton}\n            </div>\n        );\n    });\n\n    return (\n        <div>\n            <Heading>{context.d2.i18n.getTranslation('organisation_unit_level_management')}</Heading>\n            <Paper style={styles.paperWrap}>\n                {fieldRows}\n                <FormButtons>\n                    {canEdit ? <SaveButton onClick={() => saveOrganisationUnitLevels(context.d2.i18n)} isValid={props.formStatus.every(v => v)} isSaving={props.isSaving} /> : []}\n                </FormButtons>\n            </Paper>\n        </div>\n    );\n}\nOrganisationUnitLevels.defaultProps = {\n    fieldsForOrganisationUnitLevel: [],\n    formStatus: [false],\n    isLoading: true,\n    isSaving: false,\n};\nOrganisationUnitLevels.propTypes = {\n    fieldsForOrganisationUnitLevel: PropTypes.array,\n    formStatus: PropTypes.array,\n    isLoading: PropTypes.bool,\n    isSaving: PropTypes.bool,\n};\n\nconst componentState$ = organisationUnitLevelsStore;\n\nconst OrganisationUnitLevelsWithState = withStateFrom(componentState$, addD2Context(OrganisationUnitLevels));\n\nexport default addD2Context(class extends React.Component {\n    constructor(...args) {\n        super(...args);\n\n        this.state = {\n            translation: {\n                open: false,\n            },\n        };\n\n        this._onTranslateClick = this._onTranslateClick.bind(this);\n        this._closeTranslationDialog = this._closeTranslationDialog.bind(this);\n        this._translationSaved = this._translationSaved.bind(this);\n        this._translationErrored = this._translationErrored.bind(this);\n    }\n\n    componentDidMount() {\n        actions.initOrgUnitLevels();\n    }\n\n    render() {\n        return (\n            <div>\n                <OrganisationUnitLevelsWithState onTranslateClick={this._onTranslateClick} />\n                {this.state.translation.model ? <TranslationDialog\n                    objectToTranslate={this.state.translation.model}\n                    objectTypeToTranslate={this.state.translation.model && this.state.translation.model.modelDefinition}\n                    open={this.state.translation.open}\n                    onTranslationSaved={this._translationSaved}\n                    onTranslationError={this._translationErrored}\n                    onRequestClose={this._closeTranslationDialog}\n                    fieldsToTranslate={['name']}\n                /> : null }\n            </div>\n        );\n    }\n\n    _onTranslateClick(data) {\n        const model = this.context.d2.models.organisationUnitLevel.create(data);\n\n        this.setState({\n            translation: {\n                open: true,\n                model,\n            },\n        });\n    }\n\n    _translationSaved() {\n        snackActions.show({ message: this.context.d2.i18n.getTranslation('translation_saved') });\n    }\n\n    _translationErrored() {\n        snackActions.show({ message: this.context.d2.i18n.getTranslation('translation_save_error'), action: 'ok' });\n    }\n\n    _closeTranslationDialog() {\n        this.setState({\n            translation: {\n                open: false,\n                model: undefined,\n            },\n        });\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/OrganisationUnitLevels.component.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return React.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\n\nHeading.propTypes = {\n    level: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n    text: PropTypes.string\n};\n\nHeading.defaultProps = {\n    level: 1\n};\n\nexport default Heading;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/headings/Heading.component.js\n// module id = 1979\n// module chunks = 0 1 2 3 4 5 6 8 9 10 12","const fieldOrderByName = new Map([\n    ['dataElement', [\n        'name',\n        'shortName',\n        'code',\n        'style',\n        'description',\n        'formName',\n        'domainType',\n        'valueType',\n        'aggregationType',\n        'zeroIsSignificant',\n        'url',\n        'categoryCombo',\n        'optionSet',\n        'commentOptionSet',\n        'legendSets',\n        'aggregationLevels',\n    ]],\n    ['dataElementGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataElements',\n    ]],\n    ['dataElementGroupSet', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'compulsory',\n        'dataDimension',\n        'dataElementGroups',\n    ]],\n    ['category', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataDimensionType',\n        'dataDimension',\n        'categoryOptions',\n    ]],\n    ['categoryOption', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'startDate',\n        'endDate',\n        'organisationUnits',\n    ]],\n    ['categoryCombo', [\n        'name',\n        'shortName',\n        'code',\n        'dataDimensionType',\n        'skipTotal',\n        'categories',\n    ]],\n    ['categoryOptionGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataDimensionType',\n        'categoryOptions',\n    ]],\n    ['categoryOptionGroupSet', [\n        'name',\n        'description',\n        'dataDimension',\n        'dataDimensionType',\n        'categoryOptionGroups',\n    ]],\n    ['indicator', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'annualized',\n        'decimals',\n        'indicatorType',\n        'legendSets',\n        'url',\n        'aggregateExportCategoryOptionCombo',\n        'aggregateExportAttributeOptionCombo',\n    ]],\n    ['indicatorGroup', [\n        'name',\n        'indicators',\n    ]],\n    ['indicatorType', [\n        'name',\n        'factor',\n    ]],\n    ['indicatorGroupSet', [\n        'name',\n        'description',\n        'compulsory',\n        'indicatorGroups',\n    ]],\n    // TODO: Split into field group\n    ['dataSet', [\n        'name',\n        'shortName',\n        'code',\n        'style',\n        'description',\n        'expiryDays',\n        'openFuturePeriods',\n        'timelyDays',\n        'periodType',\n        'dataInputPeriods',\n        'categoryCombo',\n        'notificationRecipients',\n        'notifyCompletingUser',\n        'workflow',\n        'mobile',\n        'fieldCombinationRequired',\n        'validCompleteOnly',\n        'noValueRequiresComment',\n        'legendSets',\n        'skipOffline',\n        'dataElementDecoration',\n        'renderAsTabs',\n        'renderHorizontally',\n        'compulsoryFieldsCompleteOnly',\n        'dataSetElements',\n        'indicators',\n        'organisationUnits',\n    ]],\n    ['dataSetNotificationTemplate', [\n        // Step 1\n        'name', 'code', 'dataSets', 'messageTemplate',\n        // Step 2\n        'dataSetNotificationTrigger', 'relativeScheduledDays', 'sendStrategy',\n        // Step 3\n        'notificationRecipient', 'recipientUserGroup', 'deliveryChannels',\n    ]],\n    ['organisationUnit', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'openingDate',\n        'closedDate',\n        'comment',\n        'url',\n        'contactPerson',\n        'address',\n        'email',\n        'phoneNumber',\n        'coordinates',\n        'dataSets',\n        'programs',\n\n    ]],\n    ['organisationUnitGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'color',\n        'symbol',\n        'organisationUnits',\n    ]],\n    ['organisationUnitGroupSet', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'compulsory',\n        'dataDimension',\n        'includeSubhierarchyInAnalytics',\n        'organisationUnitGroups',\n    ]],\n    ['organisationUnitLevel', [\n        'name',\n        'offlineLevels',\n    ]],\n    ['constant', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'value',\n    ]],\n    ['attribute', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'valueType',\n        'optionSet',\n        'sortOrder',\n        'mandatory',\n        'unique',\n        'dataElementAttribute', // TODO: This currently serves as the override for all <type>Attribute fields\n    ]],\n    ['optionSet', [\n        'name',\n        'code',\n        'description',\n        'valueType',\n    ]],\n    ['option', [\n        'name',\n        'code',\n        'style',\n    ]],\n    ['legendSet', [\n        'name',\n        'code',\n        'legends',\n    ]],\n    ['eventProgram', [\n        'name',\n        'style',\n        'shortName',\n        'code',\n        'description',\n        'version',\n        'categoryCombo',\n        'workflow',\n        'completeEventsExpiryDays',\n        'expiryPeriodType',\n        'expiryDays',\n    ]],\n    ['eventProgramStage', [\n        'blockEntryForm',\n        'featureType',\n        'validationStrategy',\n        'preGenerateUID',\n        'executionDateLabel',\n    ]],\n    ['trackerProgram', [\n        'name',\n        'shortName',\n        'code',\n        'style',\n        'description',\n        'version',\n        'trackedEntityType',\n        'categoryCombo',\n        'workflow',\n        'displayFrontPageList',\n        'useFirstStageDuringRegistration',\n        'accessLevel',\n        'completeEventsExpiryDays',\n        'expiryPeriodType',\n        'expiryDays',\n        'programAttributes',\n        'minAttributesRequiredToSearch',\n        'maxTeiCountToReturn',\n    ]],\n    // Tracker-program\n    ['enrollment', [\n        'selectEnrollmentDatesInFuture',\n        'selectIncidentDatesInFuture',\n        'onlyEnrollOnce',\n        'displayIncidentDate',\n        'incidentDateLabel',\n        'enrollmentDateLabel',\n        'ignoreOverdueEvents',\n        'featureType',\n        'relatedProgram',\n    ]],\n    ['programStage', [\n        'name',\n        'style',\n        'description',\n        'minDaysFromStart',\n        'repeatable',\n        'periodType',\n        'displayGenerateEventBox',\n        'standardInterval',\n        'autoGenerateEvent',\n        'openAfterEnrollment',\n        'reportDateToUse',\n        'blockEntryForm',\n        'remindCompleted',\n        'allowGenerateNextVisit',\n        'generatedByEnrollmentDate',\n        'hideDueDate',\n        'featureType',\n        'preGenerateUID',\n        'executionDateLabel',\n        'dueDateLabel',\n    ]],\n    ['trackedEntityAttribute', [\n        'name',\n        'shortName',\n        'formName',\n        'code',\n        'description',\n        'optionSet',\n        'valueType',\n        'aggregationType',\n        'unique',\n        'orgunitScope',\n        'generated',\n        'pattern',\n        'inherit',\n        'confidential',\n        'displayInListNoProgram',\n        'skipSynchronization',\n        'legendSets',\n    ]],\n    ['trackedEntityAttributeGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'trackedEntityAttributes',\n    ]],\n    ['relationshipType', [\n        'name',\n        'code',\n        'description',\n        'fromConstraint',\n        'toConstraint',\n    ]],\n    ['trackedEntityType', [\n        'name',\n        'style',\n        'description',\n        'allowAuditLog',\n        'minAttributesRequiredToSearch',\n        'maxTeiCountToReturn',\n        'featureType',\n        'trackedEntityTypeAttributes',\n    ]],\n    ['programIndicator', [\n        'program',\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'decimals',\n        'aggregationType',\n        'analyticsType',\n        'analyticsPeriodBoundaries',\n        'displayInForm',\n        'legendSets',\n        'aggregateExportCategoryOptionCombo',\n        'aggregateExportAttributeOptionCombo',\n        'expression',\n        'filter',\n    ]],\n    ['programIndicatorGroup', [\n        'name',\n        'code',\n        'programIndicators',\n    ]],\n    ['validationRule', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'instruction',\n        'importance',\n        'ruleType',\n        'importance',\n        'ruleType',\n        'periodType',\n        'leftSide',\n        'operator',\n        'rightSide',\n        'organisationUnitLevels',\n        'skipFormValidation',\n    ]],\n    ['validationRuleGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'validationRules',\n    ]],\n    ['predictor', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'output',\n        'periodType',\n        'organisationUnitLevels',\n        'generator',\n        'sampleSkipTest',\n        'sequentialSampleCount',\n        'annualSampleCount',\n        'sequentialSkipCount',\n    ]],\n    ['predictorGroup', [\n        'name',\n        'code',\n        'description',\n        'predictors',\n    ]],\n    ['pushAnalysis', [\n        'name',\n        'code',\n        'title',\n        'message',\n        'dashboard',\n        'recipientUserGroups',\n        'schedulingFrequency',\n        'enabled',\n    ]],\n    ['externalMapLayer', [\n        'name',\n        'code',\n        'mapService',\n        'imageFormat',\n        'url',\n        'attribution',\n        'mapLayerPosition',\n        'legendSet',\n        'legendSetUrl',\n    ]],\n    ['validationNotificationTemplate', [\n        'name',\n        'code',\n        'validationRules',\n        'recipientUserGroups',\n        'sendStrategy',\n        'notifyUsersInHierarchyOnly',\n        'messageTemplate',\n    ]],\n    ['programRule', [\n        // Step 1\n        'program', 'programStage', 'name', 'description', 'priority',\n        // Step 2\n        'condition',\n        // Step 3\n        'programRuleActions',\n    ]],\n    ['programRuleVariable', [\n        'program',\n        'name',\n        'useCodeForOptionSet',\n        'programRuleVariableSourceType',\n        'programStage',\n        'dataElement',\n        'trackedEntityAttribute',\n    ]],\n    ['dataApprovalLevel', [\n        'name',\n        'orgUnitLevel',\n        'categoryOptionGroupSet',\n    ]],\n    ['dataApprovalWorkflow', [\n        'name',\n        'periodType',\n        'dataApprovalLevels',\n    ]],\n    ['optionGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'optionSet',\n        'options',\n    ]],\n    ['optionGroupSet', [\n        'name',\n        'code',\n        'description',\n        'optionSet',\n        'dataDimension',\n        'optionGroups',\n    ]],\n    ['locale', [\n        'name',\n        'locale',\n    ]],\n    ['sqlView', [\n        'name',\n        'description',\n        'cacheStrategy',\n        'type',\n        'sqlQuery',\n    ]],\n]);\n\nexport default {\n    /**\n     * @method\n     *\n     * @params {String} schemaName The name of the schema for which to get the field order\n     * @returns {Array} An arraylist of field names\n     * This can be used to set field order on the `FormFieldsManager`\n     *\n     * @example\n     * ```\n     * import fieldOrder from 'field-order';\n     *\n     * let dataElementFields = fieldOrder.for('dataElement');\n     * ```\n     */\n    for(schemaName) {\n        if (schemaName && fieldOrderByName.has(schemaName)) {\n            return fieldOrderByName.get(schemaName);\n        }\n        return ['name', 'shortName', 'code'];\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/field-config/field-order.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { isObject, get } from 'lodash';\nimport AsyncValidatorRunner from './AsyncValidatorRunner';\n\nimport CircularProgres from '../circular-progress/CircularProgress';\n\nvar noop = function noop() {};\n\nvar FormBuilder = function (_React$Component) {\n    _inherits(FormBuilder, _React$Component);\n\n    function FormBuilder(props) {\n        _classCallCheck(this, FormBuilder);\n\n        var _this = _possibleConstructorReturn(this, (FormBuilder.__proto__ || Object.getPrototypeOf(FormBuilder)).call(this, props));\n\n        _this.state = _this.initState(props);\n        _this.asyncValidators = _this.createAsyncValidators(props);\n        _this.asyncValidationRunner = props.asyncValidationRunner || new AsyncValidatorRunner();\n\n        _this.getFieldProp = _this.getFieldProp.bind(_this);\n        _this.getStateClone = _this.getStateClone.bind(_this);\n        return _this;\n    }\n\n    /**\n     * Called by React when the component receives new props, but not on the initial render.\n     *\n     * State is calculated based on the incoming props, in such a way that existing form fields\n     * are updated as necessary, but not overridden. See the initState function for details.\n     *\n     * @param props\n     */\n\n\n    _createClass(FormBuilder, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            this.asyncValidators = this.createAsyncValidators(props);\n\n            var clonedState = this.getStateClone();\n\n            props.fields\n            // Only check fields that are set on the component state\n            .filter(function (field) {\n                return _this2.state && _this2.state.fields && _this2.state.fields[field.name];\n            })\n            // Filter out fields where the values changed\n            .filter(function (field) {\n                return field.value !== _this2.state.fields[field.name].value;\n            })\n            // Change field value and run validators for the field\n            .forEach(function (field) {\n                clonedState.fields[field.name].value = field.value;\n                _this2.validateField(clonedState, field.name, field.value);\n            });\n\n            this.setState(clonedState);\n        }\n\n        /**\n         * Custom state deep copy function\n         *\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'getStateClone',\n        value: function getStateClone() {\n            var _this3 = this;\n\n            return {\n                form: {\n                    pristine: this.state.form.pristine,\n                    valid: this.state.form.valid,\n                    validating: this.state.form.validating\n                },\n                fields: Object.keys(this.state.fields).reduce(function (p, c) {\n                    p[c] = {\n                        pristine: _this3.state.fields[c].pristine,\n                        validating: _this3.state.fields[c].validating,\n                        valid: _this3.state.fields[c].valid,\n                        value: _this3.state.fields[c].value,\n                        error: _this3.state.fields[c].error\n                    };\n                    return p;\n                }, {})\n            };\n        }\n\n        /**\n         * Render the form fields.\n         *\n         * @returns {*} An array containing markup for each form field\n         */\n\n    }, {\n        key: 'renderFields',\n        value: function renderFields() {\n            var _this4 = this;\n\n            var styles = {\n                field: {\n                    position: 'relative'\n                },\n                progress: this.props.validatingProgressStyle,\n                validatingErrorStyle: {\n                    color: 'orange'\n                }\n            };\n\n            return this.props.fields.map(function (field) {\n                var _ref = field.props || {},\n                    errorTextProp = _ref.errorTextProp,\n                    props = _objectWithoutProperties(_ref, ['errorTextProp']);\n\n                var fieldState = _this4.state.fields[field.name] || {};\n\n                var changeHandler = _this4.handleFieldChange.bind(_this4, field.name);\n\n                var onBlurChangeHandler = props.changeEvent === 'onBlur' ? function (e) {\n                    var stateClone = _this4.updateFieldState(_this4.getStateClone(), field.name, { value: e.target.value });\n                    _this4.validateField(stateClone, field.name, e.target.value);\n                    _this4.setState(stateClone);\n                } : undefined;\n\n                var errorText = fieldState && fieldState.validating ? field.validatingLabelText || _this4.props.validatingLabelText : errorTextProp;\n\n                return React.createElement(\n                    'div',\n                    { key: field.name, style: Object.assign({}, styles.field, _this4.props.fieldWrapStyle) },\n                    fieldState.validating ? React.createElement(CircularProgres, { mode: 'indeterminate', size: 0.33, style: styles.progress }) : undefined,\n                    React.createElement(field.component, _extends({\n                        value: fieldState.value,\n                        onChange: props.changeEvent && props.changeEvent === 'onBlur' ? onBlurChangeHandler : changeHandler,\n                        onBlur: props.changeEvent && props.changeEvent === 'onBlur' ? changeHandler : undefined,\n                        errorStyle: fieldState.validating ? styles.validatingErrorStyle : undefined,\n                        errorText: fieldState.valid ? errorText : fieldState.error\n                    }, props))\n                );\n            });\n        }\n\n        /**\n         * Render the component\n         *\n         * @returns {XML}\n         */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'div',\n                { style: this.props.style },\n                this.renderFields()\n            );\n        }\n\n        /**\n         * Calculates initial state based on the provided props and the existing state, if any.\n         *\n         * @param props\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'initState',\n        value: function initState(props) {\n            var _this5 = this;\n\n            var state = {\n                fields: props.fields.reduce(function (fields, field) {\n                    var currentFieldState = _this5.state && _this5.state.fields && _this5.state.fields[field.name];\n                    return Object.assign(fields, _defineProperty({}, field.name, {\n                        value: currentFieldState !== undefined && !currentFieldState.pristine ? currentFieldState.value : field.value,\n                        pristine: currentFieldState !== undefined ? currentFieldState.value === field.value : true,\n                        validating: currentFieldState !== undefined ? currentFieldState.validating : false,\n                        valid: currentFieldState !== undefined ? currentFieldState.valid : true,\n                        error: currentFieldState && currentFieldState.error || undefined\n                    }));\n                }, {})\n            };\n            state.form = {\n                pristine: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].pristine;\n                }, true),\n                validating: Object.keys(state.fields).reduce(function (p, c) {\n                    return p || state.fields[c].validating;\n                }, false),\n                valid: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].valid;\n                }, true)\n            };\n            return state;\n        }\n\n        /**\n         * Create an object with a property for each field that has async validators, which is later used\n         * to store Rx.Observable's for any currently running async validators\n         *\n         * @param props\n         * @returns {*}\n         */\n\n    }, {\n        key: 'createAsyncValidators',\n        value: function createAsyncValidators(props) {\n            var _this6 = this;\n\n            return props.fields.filter(function (field) {\n                return Array.isArray(field.asyncValidators) && field.asyncValidators.length;\n            }).reduce(function (p, currentField) {\n                p[currentField.name] = _this6.asyncValidators && _this6.asyncValidators[currentField.name] || undefined;\n                return p;\n            }, {});\n        }\n\n        /**\n         * Cancel the currently running async validators for the specified field name, if any.\n         *\n         * @param fieldName\n         */\n\n    }, {\n        key: 'cancelAsyncValidators',\n        value: function cancelAsyncValidators(fieldName) {\n            if (this.asyncValidators[fieldName]) {\n                this.asyncValidators[fieldName].unsubscribe();\n                this.asyncValidators[fieldName] = undefined;\n            }\n        }\n\n        /**\n         * Utility method to mutate the provided state object in place\n         *\n         * @param state A state object\n         * @param fieldName A valid field name\n         * @param fieldState Mutations to apply to the specified field name\n         * @returns {*} A reference to the mutated state object for chaining\n         */\n\n    }, {\n        key: 'updateFieldState',\n        value: function updateFieldState(state, fieldName, fieldState) {\n            var fieldProp = this.getFieldProp(fieldName);\n            state.fields[fieldName] = {\n                pristine: fieldState.pristine !== undefined ? !!fieldState.pristine : state.fields[fieldName].value === fieldProp.value,\n                validating: fieldState.validating !== undefined ? !!fieldState.validating : state.fields[fieldName].validating,\n                valid: fieldState.valid !== undefined ? !!fieldState.valid : state.fields[fieldName].valid,\n                error: fieldState.error,\n                value: fieldState.value !== undefined ? fieldState.value : state.fields[fieldName].value\n            };\n\n            // Form state is a composite of field states\n            var fieldNames = Object.keys(state.fields);\n            state.form = {\n                pristine: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].pristine;\n                }, true),\n                validating: fieldNames.reduce(function (p, current) {\n                    return p || state.fields[current].validating;\n                }, false),\n                valid: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].valid;\n                }, true)\n            };\n\n            return state;\n        }\n\n        /**\n         * Field value change event\n         *\n         * This is called whenever the value of the specified field has changed. This will be the onChange event handler, unless\n         * the changeEvent prop for this field is set to 'onBlur'.\n         *\n         * The change event is processed as follows:\n         *\n         * - If the value hasn't actually changed, processing stops\n         * - The field status is set to [not pristine]\n         * - Any currently running async validators are cancelled\n         *\n         * - All synchronous validators are called in the order specified\n         * - If a validator fails:\n         *    - The field status is set to invalid\n         *    - The field error message is set to the error message for the validator that failed\n         *    - Processing stops\n         *\n         * - If all synchronous validators pass:\n         *    - The field status is set to [valid]\n         *    - If there are NO async validators for the field:\n         *       - The onUpdateField callback is called, and processing is finished\n         *\n         * - If there ARE async validators for the field:\n         *    - All async validators are started immediately\n         *    - The field status is set to [valid, validating]\n         *    - The validators keep running asynchronously, but the handleFieldChange function terminates\n         *\n         * - The async validators keep running in the background until ONE of them fail, or ALL of them succeed:\n         * - The first async validator to fail causes all processing to stop:\n         *    - The field status is set to [invalid, not validating]\n         *    - The field error message is set to the value that the validator rejected with\n         * - If all async validators complete successfully:\n         *    - The field status is set to [valid, not validating]\n         *    - The onUpdateField callback is called\n         *\n         * @param fieldName The name of the field that changed.\n         * @param event An event object. Only `event.target.value` is used.\n         */\n\n    }, {\n        key: 'handleFieldChange',\n        value: function handleFieldChange(fieldName, event) {\n            var _this7 = this;\n\n            var newValue = event.target.value;\n\n            var field = this.getFieldProp(fieldName);\n\n            // If the field has changeEvent=onBlur the change handler is triggered whenever the field loses focus.\n            // So if the value didn't actually change, abort the change handler here.\n            if (field.props && field.props.changeEvent === 'onBlur' && newValue === field.value) {\n                return;\n            }\n\n            // Using custom clone function to maximize speed, albeit more error prone\n            var stateClone = this.getStateClone();\n\n            // Update value, and set pristine to false\n            this.setState(this.updateFieldState(stateClone, fieldName, { pristine: false, value: newValue }), function () {\n                if (!isObject(newValue) && newValue === (field.value ? field.value : '')) {\n                    _this7.props.onUpdateField(fieldName, newValue);\n                    return;\n                }\n\n                // Cancel async validators in progress (if any)\n                if (_this7.asyncValidators[fieldName]) {\n                    _this7.cancelAsyncValidators(fieldName);\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { validating: false }));\n                }\n\n                // Run synchronous validators\n                var validatorResult = _this7.validateField(stateClone, fieldName, newValue);\n\n                // Async validators - only run if sync validators pass\n                if (validatorResult === true) {\n                    _this7.runAsyncValidators(field, stateClone, fieldName, newValue);\n                } else {\n                    // Sync validators failed set field status to false\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { valid: false, error: validatorResult }), function () {\n                        // Also emit when the validator result is false\n                        _this7.props.onUpdateFormStatus(_this7.state.form);\n                        _this7.props.onUpdateField(fieldName, newValue);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'runAsyncValidators',\n        value: function runAsyncValidators(field, stateClone, fieldName, newValue) {\n            var _this8 = this;\n\n            if ((field.asyncValidators || []).length > 0) {\n                // Set field and form state to 'validating'\n                this.setState(this.updateFieldState(stateClone, fieldName, { validating: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n\n                    // TODO: Subscription to validation results could be done once in `componentDidMount` and be\n                    // disposed in the `componentWillUnmount` method. This way we don't have to create the\n                    // subscription every time the field is changed.\n                    _this8.asyncValidators[fieldName] = _this8.asyncValidationRunner.listenToValidatorsFor(fieldName, stateClone).subscribe(function (status) {\n                        _this8.setState(_this8.updateFieldState(_this8.getStateClone(), status.fieldName, {\n                            validating: false,\n                            valid: status.isValid,\n                            error: status.message\n                        }), function () {\n                            _this8.cancelAsyncValidators(status.fieldName);\n                            _this8.props.onUpdateFormStatus(_this8.state.form);\n                        });\n                    });\n\n                    _this8.asyncValidationRunner.run(fieldName, field.asyncValidators, newValue);\n                });\n            } else {\n                this.setState(this.updateFieldState(stateClone, fieldName, { valid: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n                });\n            }\n        }\n\n        /**\n         * Run all synchronous validators (if any) for the field and value, and update the state clone depending on the\n         * outcome\n         *\n         * @param stateClone A clone of the current state\n         * @param fieldName The name of the field to validate\n         * @param newValue The value to validate\n         * @returns {true|String} The error message from the first validator that fails, or true if they all pass\n         */\n\n    }, {\n        key: 'validateField',\n        value: function validateField(stateClone, fieldName, newValue) {\n            var field = this.getFieldProp(fieldName);\n\n            var validatorResult = (field.validators || []).reduce(function (pass, currentValidator) {\n                return pass === true ? currentValidator.validator(newValue, stateClone) === true || currentValidator.message : pass;\n            }, true);\n            if (get(field, 'fieldOptions.disabled')) {\n                validatorResult = true;\n            }\n\n            this.updateFieldState(stateClone, fieldName, {\n                valid: validatorResult === true,\n                error: validatorResult === true ? undefined : validatorResult\n            });\n\n            return validatorResult;\n        }\n\n        /**\n         * Retreive the field that has the specified field name\n         *\n         * @param fieldName\n         * @returns {}\n         */\n\n    }, {\n        key: 'getFieldProp',\n        value: function getFieldProp(fieldName) {\n            return this.props.fields.filter(function (f) {\n                return f.name === fieldName;\n            })[0];\n        }\n    }]);\n\n    return FormBuilder;\n}(React.Component);\n\n/**\n * Component prop types\n * @type {{fields: (Object|isRequired), validatingLabelText: *, validatingProgressStyle: *, onUpdateField: (Function|isRequired)}}\n */\n\n\nFormBuilder.propTypes = {\n    fields: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        value: PropTypes.any,\n        component: PropTypes.func.isRequired,\n        props: PropTypes.shape({\n            changeEvent: PropTypes.oneOf(['onChange', 'onBlur'])\n        }),\n        validators: PropTypes.arrayOf(PropTypes.shape({\n            validator: PropTypes.func.isRequired,\n            message: PropTypes.string.isRequired\n        })),\n        asyncValidators: PropTypes.arrayOf(PropTypes.func.isRequired),\n        validatingLabelText: PropTypes.string\n    })).isRequired,\n    validatingLabelText: PropTypes.string,\n    validatingProgressStyle: PropTypes.object,\n    onUpdateField: PropTypes.func.isRequired,\n    onUpdateFormStatus: PropTypes.func,\n    style: PropTypes.object,\n    fieldWrapStyle: PropTypes.object\n};\n\n/**\n * Default values for optional props\n * @type {{validatingLabelText: string, validatingProgressStyle: {position: string, right: number, top: number}}}\n */\nFormBuilder.defaultProps = {\n    validatingLabelText: 'Validating...',\n    validatingProgressStyle: {\n        position: 'absolute',\n        right: -12,\n        top: 16\n    },\n    onUpdateFormStatus: noop\n};\n\nexport default FormBuilder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/forms/FormBuilder.component.js\n// module id = 2002\n// module chunks = 0 1 2 6","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    open: PropTypes.bool,\n    onRequestClose: PropTypes.func.isRequired,\n    fieldsToTranslate: PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationDialog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 2036\n// module chunks = 1 2 3 4 5 6","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return React.createElement(MenuItem, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return React.createElement(\n                SelectField,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(Component);\n\nLocaleSelector.propTypes = {\n    value: PropTypes.string,\n    locales: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        locale: PropTypes.string.isRequired\n    })).isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default LocaleSelector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 2061\n// module chunks = 1 2 3 4 5 6","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from 'material-ui/TextField/TextField';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rxjs';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport Store from '../store/Store';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: camelCaseToUnderscores(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            saveTranslations(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return React.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                React.createElement(CircularProgress, { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return React.createElement(\n                    'div',\n                    { key: fieldName },\n                    React.createElement(TextField, {\n                        floatingLabelText: _this2.getTranslation(camelCaseToUnderscores(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    React.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return React.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                React.createElement(RaisedButton, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return React.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(Component);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }),\n    fieldsToTranslate: PropTypes.arrayOf(PropTypes.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 2062\n// module chunks = 1 2 3 4 5 6","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport Action from '../action/Action';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 2063\n// module chunks = 1 2 3 4 5 6","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\n\nfunction SaveButton(props, { d2 }) {\n    const {\n        isSaving,\n        isValid,\n        onClick,\n        ...rest\n    } = props;\n    const buttonText = isSaving ? d2.i18n.getTranslation('saving') : d2.i18n.getTranslation('save');\n    return (\n        <RaisedButton {...rest} primary onClick={onClick} label={buttonText} disabled={isSaving} />\n    );\n}\n\nSaveButton.propTypes = {\n    isSaving: PropTypes.bool,\n    isValid: PropTypes.bool,\n    onClick: PropTypes.func.isRequired,\n};\nSaveButton.defaultProps = { isSaving: false, isValid: true };\n\nexport default addD2Context(SaveButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SaveButton.component.js","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { Observable, Subject } from 'rxjs';\n\n/**\n * Run `validatorFunctions` in parallel and returns a resolved `Promise` with the validation status.\n * @param {function:Promise[]} validatorFunctions Array of validator functions that return a Promise.\n * @param {*} value The value that should be checked by the given validators\n * @returns {Promise.<Object>} Resolves promise with `{ isValid: true }` when validators passed\n * or with `{ isValid: false, message: '<error_message>'`} when one of the validators failed. The `message` property\n * contains the value that the failed validator function rejected with.\n */\nfunction runValidatorFunctions(validatorFunctions, value, formState) {\n    return Promise.all(validatorFunctions.map(function (validator) {\n        return validator.call(null, value, formState);\n    }))\n    // All validators passed\n    .then(function () {\n        return { isValid: true };\n    })\n    // When one of the validators failed a failure status with error message are emitted\n    .catch(function (errorMessage) {\n        return { isValid: false, message: errorMessage };\n    });\n}\n\n/**\n *\n */\n\nvar AsyncValidatorRunner = function () {\n    /**\n     *\n     * @param {Rx.Scheduler} [scheduler] Optional scheduler to be used for the Rx methods that can accept one.\n     */\n    function AsyncValidatorRunner(scheduler) {\n        _classCallCheck(this, AsyncValidatorRunner);\n\n        // Rx.Scheduler to be used to run the operations on\n        this.scheduler = scheduler;\n\n        // Rx.Subject that will serve as the validator pipeline\n        // The Runner passes the fields and values and emits\n        // success\n        this.validatorPipeline = new Subject();\n\n        // The amount of time to be used for debouncing the field values\n        this.debounceTimeInMs = 400;\n    }\n\n    /**\n     * Run the `asyncValidators` passed for the field with `fieldName`. `fieldName` is only\n     * used to pass through to the result so `listenToValidatorsFor` can identify which field\n     * the result belong to.\n     *\n     * @param {string} fieldName The name of the field\n     * @param {Array<Function>} asyncValidators An array of functions that each return a Promise thar resolves on valid\n     * and rejects on failure.\n     * @param {*} value The value that should be checked for validity.\n     *\n     * @returns {AsyncValidatorObject} Returns itself for chaining purposes\n     */\n\n\n    _createClass(AsyncValidatorRunner, [{\n        key: 'run',\n        value: function run(fieldName) {\n            var asyncValidators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var value = arguments[2];\n\n            this.validatorPipeline.next({ fieldName: fieldName, asyncValidators: asyncValidators, value: value });\n\n            return this;\n        }\n\n        /**\n         * Returns an Rx.Observable that can be subscribed to to be updated of validation results for the field\n         * with `fieldName`. This function when subscribing runs the validators that are passed for the given field when\n         * `run` was called. This allows for only running the validators that are at the time the validation request was\n         * issued were applicable to the field.\n         *\n         * @param {string} fieldName The name of the field to filter statuses for.\n         * @returns {Rx.Observable} Observable that represents validation results for the given `fieldName`.\n         */\n\n    }, {\n        key: 'listenToValidatorsFor',\n        value: function listenToValidatorsFor(fieldName, formState) {\n            return this.validatorPipeline\n            // Filter the values by fieldName to make sure we only deal with the values for the requested field\n            .filter(function (field) {\n                return field.fieldName === fieldName;\n            })\n            // Only process the latest value within the specified time window\n            .debounceTime(this.debounceTimeInMs, this.scheduler)\n            // .do((v) => console.log(v.value))\n            .map(function (field) {\n                return Observable.fromPromise(runValidatorFunctions(field.asyncValidators, field.value, formState)).map(function (status) {\n                    return Object.assign(status, { fieldName: field.fieldName, value: field.value });\n                });\n            })\n            // Flatten all observables in the correct order they should be processed\n            .concatAll();\n            // .do((v) => console.log(v));\n        }\n\n        /**\n         * Creates an instance of the AsyncValidatorRunner class\n         *\n         * @param {Rx.Scheduler} scheduler A scheduler to be used while running the pipeline operations\n         * @returns {AsyncValidatorRunner} The instantiated runner\n         * @static\n         */\n\n    }], [{\n        key: 'create',\n        value: function create(scheduler) {\n            return new AsyncValidatorRunner(scheduler);\n        }\n    }]);\n\n    return AsyncValidatorRunner;\n}();\n\nexport default AsyncValidatorRunner;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/forms/AsyncValidatorRunner.js\n// module id = 2173\n// module chunks = 0 1 2 6","import React from 'react';\nimport isArray from 'd2-utilizr/lib/isArray';\n\nexport default function FormButtons(props) {\n    const defaultStyle = {\n        marginTop: '1rem',\n    };\n\n    const buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem',\n    };\n\n    const buttonsToRender = isArray(props.children) ? props.children : [props.children];\n\n    return (\n        <div style={Object.assign(defaultStyle, props.style)}>\n            {buttonsToRender.map((child, index) => React.cloneElement(child, {\n                style: buttonStyle,\n                key: index,\n            }))}\n        </div>\n    );\n}\nFormButtons.propTypes = {\n    style: React.PropTypes.object,\n    children: React.PropTypes.oneOfType([\n        React.PropTypes.array,\n        React.PropTypes.object,\n    ]).isRequired,\n    isFormValid: React.PropTypes.func,\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormButtons.component.js","import Store from 'd2-ui/lib/store/Store';\n\nexport default Store.create();\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/organisationUnitLevels.store.js","import React, { PropTypes } from 'react';\nimport Action from 'd2-ui/lib/action/Action';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport organisationUnitLevelsStore from './organisationUnitLevels.store';\nimport TextField from 'material-ui/TextField/TextField';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport fieldOrder from '../config/field-config/field-order';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\n\nconst fieldForOrganisationUnitLevels = fieldOrder.for('organisationUnitLevel');\n\nconst actions = Action.createActionsFromNames(['initOrgUnitLevels', 'fieldUpdate', 'updateFormStatus', 'saveOrganisationUnitLevels']);\n\nfunction DropDownFieldForOfflineLevels(props) {\n    const { options, ...otherProps } = props;\n\n    const availableOptions = [{ value: undefined, text: 'Default', label: ' ' }]\n        .concat(options.map(option => ({ value: option, text: option, label: option })))\n        .map((option, index) => (\n            <MenuItem key={index} primaryText={option.text} value={option.value} label={option.label} />\n        ));\n\n    return (\n        <SelectField {...otherProps} onChange={(event, index, value) => props.onChange({ target: { value } })}>\n            {availableOptions}\n        </SelectField>\n    );\n}\n\nDropDownFieldForOfflineLevels.propTypes = {\n    options: PropTypes.array,\n};\n\nconst fieldOptions = new Map([\n    ['name', {\n        component: TextField,\n    }],\n    ['offlineLevels', {\n        component: DropDownFieldForOfflineLevels,\n        props: {\n            options: [\n                1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n            ],\n        },\n    }],\n]);\n\nasync function loadOrganisationUnitLevels() {\n    const d2 = await getInstance();\n    const api = d2.Api.getApi();\n\n    return await api.get('filledOrganisationUnitLevels');\n}\n\nfunction isNameUnique(name) {\n    return organisationUnitLevelsStore\n        .state\n        .fieldsForOrganisationUnitLevel\n        .map(fieldConfigs => fieldConfigs\n            .filter(fieldConfig => fieldConfig.name === 'name')\n            .some(fieldConfig => fieldConfig.value === name)\n        )\n        .every(result => result === false);\n}\n\nasync function getOrganisationUnitLevelFormFields() {\n    const d2 = await getInstance();\n\n    return fieldForOrganisationUnitLevels\n        .map((fieldName) => {\n            const fieldOption = fieldOptions.get(fieldName) || {};\n\n            return {\n                name: fieldName,\n                component: fieldOption.component || TextField,\n                props: Object.assign({\n                    floatingLabelText: d2.i18n.getTranslation(camelCaseToUnderscores(fieldName)),\n                }, fieldOption.props),\n                validators: [{\n                    validator: isNameUnique,\n                    message: d2.i18n.getTranslation('value_not_unique'),\n                }],\n            };\n        });\n}\n\nconst organisationUnitLevelFormFields$ = Observable.fromPromise(getOrganisationUnitLevelFormFields());\n\nfunction getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields) {\n    return organisationUnitLevels\n        .map((ouLevel) => {\n            const result = organisationUnitLevelFormFields\n                .map(fieldConfig => Object.assign({}, fieldConfig, { value: ouLevel[fieldConfig.name] }));\n\n            result.organisationUnitLevel = ouLevel;\n            return result;\n        });\n}\n\nfunction buildFormStatus({ data }) {\n    return organisationUnitLevelsStore\n        .getState()\n        .formStatus\n        .map((status, index) => {\n            if (index === data.levelIndex) {\n                return data.formStatus.valid;\n            }\n            return status;\n        });\n}\n\nactions.updateFormStatus\n    .map(buildFormStatus)\n    .subscribe((formStatusForAllLevels) => {\n        organisationUnitLevelsStore.setState(Object.assign(\n            {},\n            organisationUnitLevelsStore.getState(),\n            { formStatus: formStatusForAllLevels }\n        ));\n    });\n\nactions.initOrgUnitLevels\n    .flatMap(() => Observable.combineLatest(\n        Observable.fromPromise(loadOrganisationUnitLevels()),\n        organisationUnitLevelFormFields$,\n        (organisationUnitLevels, organisationUnitLevelFormFields) => ({ organisationUnitLevels, organisationUnitLevelFormFields })\n    ))\n    .map(({ organisationUnitLevels, organisationUnitLevelFormFields }) => {\n        const fieldConfigsForAllLevels = getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields);\n\n        return {\n            fieldConfigsForAllLevels,\n            organisationUnitLevels,\n        };\n    })\n    .subscribe(({ fieldConfigsForAllLevels, organisationUnitLevels }) => {\n        organisationUnitLevelsStore.setState({\n            isSaving: false,\n            isLoading: false,\n            fieldsForOrganisationUnitLevel: fieldConfigsForAllLevels,\n            formStatus: fieldConfigsForAllLevels.map(() => true),\n            organisationUnitLevels,\n        });\n    });\n\n// FIXME: Weird solution to make an action usable with Observable.combineLatest. Also actions are never unsubscribed.\nconst fieldUpdateSubject$ = new ReplaySubject(1);\nactions.fieldUpdate\n    .subscribe(action => fieldUpdateSubject$.next(action));\n\nObservable.combineLatest(\n    fieldUpdateSubject$,\n    organisationUnitLevelFormFields$,\n    (action, organisationUnitLevelFormFields) => ({ action, organisationUnitLevelFormFields })\n)\n    .map(({ action, organisationUnitLevelFormFields }) => ({\n        ...action.data,\n        storeState: organisationUnitLevelsStore.getState(),\n        organisationUnitLevelFormFields,\n    }))\n    .subscribe(({ storeState = { organisationUnitLevels: [] }, fieldName, fieldValue, organisationUnitLevel, organisationUnitLevelFormFields }) => {\n        const organisationUnitToChangeValueFor = storeState.organisationUnitLevels\n            .find(ouLevel => ouLevel === organisationUnitLevel);\n\n        if (organisationUnitToChangeValueFor && fieldName) {\n            organisationUnitToChangeValueFor[fieldName] = fieldValue;\n        }\n\n        organisationUnitLevelsStore.setState(Object.assign(\n            {},\n            storeState,\n            {\n                organisationUnitLevels: storeState.organisationUnitLevels,\n                fieldsForOrganisationUnitLevel: getFieldConfigsForAllFields(storeState.organisationUnitLevels, organisationUnitLevelFormFields),\n            }\n        ));\n    });\n\nfunction saveOrganisationUnitLevels(action) {\n    const { organisationUnitLevels, complete, error } = action;\n\n    return getInstance()\n        .then(d2 => d2.Api.getApi())\n        .then(api => api.post('filledOrganisationUnitLevels', { organisationUnitLevels }, { dataType: 'text' }))\n        .then(() => complete)\n        .catch(() => error);\n}\n\nactions.saveOrganisationUnitLevels\n    .map(action => ({\n        organisationUnitLevels: organisationUnitLevelsStore\n            .getState()\n            .organisationUnitLevels\n            .map(({ name, level, offlineLevels }) => ({ name, level, offlineLevels })),\n        ...action,\n    }))\n    .do(() => {\n        organisationUnitLevelsStore\n            .setState({\n                ...organisationUnitLevelsStore.getState(),\n                isSaving: true,\n            });\n    })\n    .flatMap(action => Observable.fromPromise(saveOrganisationUnitLevels(action)))\n    .subscribe((callback) => {\n        callback.call();\n        actions.initOrgUnitLevels();\n    });\n\nexport default actions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/organisationUnitLevels.actions.js"],"sourceRoot":""}