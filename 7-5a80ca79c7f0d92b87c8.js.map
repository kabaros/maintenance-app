{"version":3,"sources":["webpack:///7-5a80ca79c7f0d92b87c8.js","webpack:///./src/EditModel/EditDataSetSections.component.js","webpack:///./src/List/HelpLink.component.js?e268****","webpack:///./src/config/inlinehelp-mapping.json?abd3****","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850***","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14***","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce***","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe***","webpack:///./src/EditModel/FormHeading.js?6597**","webpack:///./src/EditModel/BackButton.component.js?d1ea**","webpack:///./~/d2-ui/lib/loading-mask/LoadingMask.component.js?df9e","webpack:///./src/EditModel/FormSubHeading.js?4a65","webpack:///./src/EditModel/GreyFieldDialog.component.js","webpack:///./src/EditModel/SectionDialog.component.js"],"names":["webpackJsonp","3518","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default","__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__","__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__","__WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_12__FormHeading__","__WEBPACK_IMPORTED_MODULE_13__FormSubHeading__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","styles","heading","paddingBottom","fab","textAlign","marginTop","bottom","right","position","zIndex","EditDataSetSections","_Component","context","this","_this","getPrototypeOf","handleTranslationSaved","show","message","translate","handleTranslationErrored","errorMessage","a","error","action","state","categoryCombos","editSectionModel","greyFieldSectionModel","Promise","all","d2","Api","getApi","get","params","modelId","join","fields","paging","then","_ref","_ref2","catComboList","sections","sectionArray","toArray","setState","sort","b","sortOrder","map","cc","id","text","displayName","getTranslation","handleAddSectionClick","bind","handleEditSectionClick","handleSectionSaved","handleDeleteSectionClick","handleTranslateSectionClick","handleSectionGreyFieldsClick","swapSections","moveSectionUp","moveSectionDown","i18n","newSection","models","assign","dataSet","reduce","p","s","Math","max","savedSection","_this2","replaced","forceUpdate","section","_this3","onActionTouchTap","delete","newSections","filter","catch","warn","translationModel","sectionA","sectionB","_this4","swapOrder","save","currentIndex","indexOf","swapSection","_this5","contextActions","edit","manage_grey_fields","move_up","move_down","contextMenuIcons","contextActionChecker","model","createElement","schema","groupName","columns","rows","contextMenuActions","primaryAction","isContextActionAllowed","open","sectionModel","onRequestClose","onSaveSection","onRequestSave","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","fieldsToTranslate","style","onClick","className","propTypes","any","isRequired","contextTypes","3544","mappingPathExists","mappingKey","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default","getDocsVersion","major","minor","snapshot","replacePlaceholder","variablesToReplace","placeholderRegex","replace","match","variable","has","replaceMappingPathPlaceholder","path","keys","find","pathToMatch","RegExp","test","getPartialHelpContentPath","replacedMappingPath","variablesToReplaceCamel","findHelpLinkForPath","Map","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__","HelpLink","_ref3","window","location","hash","docsLink","system","version","helpLink","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default","href","rel","tooltip","tooltipPosition","iconClassName","iconStyle","top","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__","string","object","3545","exports","/edit/categorySection/categoryOptionGroupSet","/edit/categorySection/categoryOptionGroup","/edit/categorySection/categoryOptionCombo","/edit/categorySection/categoryOption","/edit/categorySection/categoryCombo","/edit/categorySection/category","/list/categorySection","/edit/dataElementSection/dataElementGroupSet","/edit/dataElementSection/dataElementGroup","/edit/dataElementSection/dataElement","/list/dataElementSection","/edit/dataSetSection/dataSet/${objectId}/sections","/edit/dataSetSection/dataSet","/list/dataSetSection/dataSet","/edit/indicatorSection/programIndicatorGroup","/list/indicatorSection/programIndicatorGroup","/edit/indicatorSection/programIndicator","/list/indicatorSection/programIndicator","/edit/indicatorSection/indicatorGroupSet","/edit/indicatorSection/indicatorGroup","/edit/indicatorSection/indicatorType","/edit/indicatorSection/indicator","/list/indicatorSection","/edit/organisationUnitSection/organisationUnitGroupSet","/edit/organisationUnitSection/organisationUnitGroup","/edit/organisationUnitSection/organisationUnitLevel","/edit/organisationUnitSection/organisationUnit","/list/organisationUnitSection","/edit/programSection/trackedEntityAttribute","/edit/programSection/programRuleVariable","/edit/programSection/relationshipType","/edit/programSection/trackedEntity","/edit/programSection/programRule","/edit/programSection/program","/list/programSection","/edit/validationSection/validationNotificationTemplate","/edit/validationSection/validationRuleGroup","/edit/validationSection/validationRule","/list/validationSection","/edit/otherSection/legendSet","/list/otherSection/legendSet","/edit/otherSection/pushAnalysis","/list/otherSection/pushAnalysis","/edit/otherSection/externalMapLayer","/list/otherSection/externalMapLayer","/edit/otherSection/predictorGroup","/list/otherSection/predictorGroup","/edit/otherSection/optionGroupSet","/list/otherSection/optionGroupSet","/edit/otherSection/optionGroup","/list/otherSection/optionGroup","/edit/otherSection/${objectType}","/list/otherSection/${objectType}","3548","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__","_extends","arguments","source","hasOwnProperty","TranslationDialog","TranslationForm","translationSaved","translationError","closeTranslationDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","args","shape","func","bool","array","3563","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default","LocaleSelector","onLocaleChange","event","index","locale","onChange","localeMenuItems","payload","concat","locales","primaryText","name","fullWidth","hintText","arrayOf","3564","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_9__store_Store__","__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__","subscribe","translations","__WEBPACK_IMPORTED_MODULE_5_rxjs__","combineLatest","_len","data","_key","apply","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__","loading","translationValues","currentSelectedLocale","setCurrentLocale","setValue","property","newTranslations","translation","t","toLowerCase","toUpperCase","saveTranslations","mode","fieldName","floatingLabelText","getTranslationValueFor","renderFieldsToTranslate","label","primary","marginLeft","minHeight","renderForm","renderHelpText","getLoadingdataElement","defaultProps","3565","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","getModelHref","apiEndpoint","getTranslationsForModel","of","flatMap","reject","Error","d","__WEBPACK_IMPORTED_MODULE_2__action_Action__","_ref$data","complete","translationHref","update","dataType","3566","_objectWithoutProperties","obj","FormHeading","level","children","isDirtyHandler","skipTranslation","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_5__BackButton_component__","__WEBPACK_IMPORTED_MODULE_6__router_utils__","goToAndScrollUp","__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","oneOfType","number","3569","BackButton","_props$isDirtyHandler","__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__","getState","otherProps","onClickWithConfirm","dirty","confirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__","PropTypes","3635","LoadingMask","_ref$style","_ref$large","large","_ref$small","small","__WEBPACK_IMPORTED_MODULE_1_react___default","loadingStatusMask","__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","__WEBPACK_IMPORTED_MODULE_1_react__","left","3674","FormSubHeading","defaultStyle","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","fontSize","paddingTop","fontWeight","3848","_toConsumableArray","arr2","from","__WEBPACK_IMPORTED_MODULE_1_loglevel__","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default","__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_8__modelToEditStore__","dialogContent","maxWidth","dialogDiv","overflowX","overflowY","table","borderSpacing","borderCollapse","margin","th","whiteSpace","border","padding","thDataElements","background","td","minWidth","tdDataElement","GreyFieldDialog","_React$Component","categories","closeDialog","handleSaveClick","dataElements","info","cocMap","categoryArrayToMap","appendage","reduceAppendage","prev","categoryOption","out","pop","categoryOptions","assignCocs","options","coc","keyPos","splice","list","forEach","categoryCombo","JSON","parse","stringify","categoryOptionCombos","optionPath","o","greyedFields","gf","dataElement","categoryOptionCombo","currentCategoryCombo","optionCount","oc","c","size","res","prevRowColCount","cat","catNum","colSpan","slice","product","isLastHeader","row","e","rep","opt","optNum","fieldArray","fieldNum","resolveCoc","shift","isGreyed","toggleBoggle","dataElementId","categoryOptionComboId","disable","greyedCocs","includes","deId","checked","labelPosition","labelStyle","onCheck","_this6","getCocFields","pout","currentSectionDataElementIds","de","dataSetElements","dse","deNum","cocFields","renderCheckbox","_this7","_props","extraProps","uniqueCatComboIds","sectionDataElementIds","categoryCombosForSection","catCombos","catCombo","localeCompare","contentStyle","actions","onTouchTap","marginRight","labelText","width","renderTableHeader","renderDataElements","Component","3849","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default","__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__","dataElementStore","assignedDataElementStore","indicatorStore","assignedIndicatorStore","SectionDialog","setAssignedDataElements","setAssignedIndicators","indicators","removeIndicators","resolve","assignIndicators","handleRowTotalsChange","showRowTotals","handleColumnTotalsChange","showColumnTotals","handleFilterChange","filterText","handleNameChange","nameDupe","nameError","handleCodeChange","codeDupe","code","codeError","handleDescriptionChange","description","assignDataElements","removeDataElements","handleCategoryComboChange","categoryComboId","filterDataElementIds","saveSection","trim","response","uid","renderFilters","disabled","defaultValue","renderAvailableOptions","display","lineHeight","color","editorStyle","marginBottom","itemStore","assignedItemStore","onAssignItems","onRemoveItems","onOrderChanged","height","subscriptions","currentSectionId","otherSections","elements","disposable","unsubscribe","sectionIdDiv","float","fontFamily","validateName","errorText","onBlur","multiLine"],"mappings":"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","file":"7-5a80ca79c7f0d92b87c8.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 3518:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(3548);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__ = __webpack_require__(3635);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__ = __webpack_require__(1372);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__ = __webpack_require__(1374);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__ = __webpack_require__(754);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__ = __webpack_require__(3849);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__ = __webpack_require__(3848);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(249);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__FormHeading__ = __webpack_require__(3566);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__ = __webpack_require__(3674);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    heading: {\n        paddingBottom: 18\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10\n    }\n};\n\nvar EditDataSetSections = function (_Component) {\n    _inherits(EditDataSetSections, _Component);\n\n    function EditDataSetSections(props, context) {\n        _classCallCheck(this, EditDataSetSections);\n\n        var _this = _possibleConstructorReturn(this, (EditDataSetSections.__proto__ || Object.getPrototypeOf(EditDataSetSections)).call(this, props, context));\n\n        _this.handleTranslationSaved = function () {\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_saved', translate: true });\n        };\n\n        _this.handleTranslationErrored = function (errorMessage) {\n            __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(errorMessage);\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_save_error', action: 'ok', translate: true });\n        };\n\n        _this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false\n        };\n\n        Promise.all([context.d2.Api.getApi().get(['dataSets', props.params.modelId, 'categoryCombos'].join('/'), { fields: 'id,displayName', paging: false })]).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 1),\n                catComboList = _ref2[0];\n\n            var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n            var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            _this.setState({\n                sections: sectionArray.sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                }),\n                categoryCombos: catComboList.categoryCombos.map(function (cc) {\n                    return {\n                        value: cc.id,\n                        text: cc.displayName === 'default' ? _this.getTranslation('none') : cc.displayName\n                    };\n                })\n            });\n        });\n\n        _this.handleAddSectionClick = _this.handleAddSectionClick.bind(_this);\n        _this.handleEditSectionClick = _this.handleEditSectionClick.bind(_this);\n        _this.handleSectionSaved = _this.handleSectionSaved.bind(_this);\n\n        _this.handleDeleteSectionClick = _this.handleDeleteSectionClick.bind(_this);\n        _this.handleTranslateSectionClick = _this.handleTranslateSectionClick.bind(_this);\n        _this.handleTranslationSaved = _this.handleTranslationSaved.bind(_this);\n        _this.handleTranslationErrored = _this.handleTranslationErrored.bind(_this);\n\n        _this.handleSectionGreyFieldsClick = _this.handleSectionGreyFieldsClick.bind(_this);\n\n        _this.swapSections = _this.swapSections.bind(_this);\n        _this.moveSectionUp = _this.moveSectionUp.bind(_this);\n        _this.moveSectionDown = _this.moveSectionDown.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(EditDataSetSections, [{\n        key: 'handleAddSectionClick',\n        value: function handleAddSectionClick() {\n            var newSection = this.context.d2.models.sections.create();\n            this.setState(function (state) {\n                return {\n                    editSectionModel: Object.assign(newSection, {\n                        dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                        sortOrder: state.sections.reduce(function (p, s) {\n                            return Math.max(s.sortOrder, p);\n                        }, 0) + 1\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'handleEditSectionClick',\n        value: function handleEditSectionClick(editSectionModel) {\n            this.setState({ editSectionModel: editSectionModel });\n        }\n    }, {\n        key: 'handleSectionSaved',\n        value: function handleSectionSaved(savedSection) {\n            var _this2 = this;\n\n            this.setState(function (state) {\n                var replaced = false;\n                var sections = state.sections.map(function (s) {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                }).sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                });\n                if (!replaced) {\n                    sections.push(savedSection);\n                }\n\n                __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, { sections: sections }));\n                return {\n                    editSectionModel: false,\n                    greyFieldSectionModel: false,\n                    sections: sections\n                };\n            }, function () {\n                _this2.forceUpdate();\n            });\n        }\n    }, {\n        key: 'handleDeleteSectionClick',\n        value: function handleDeleteSectionClick(section) {\n            var _this3 = this;\n\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: this.getTranslation('confirm_delete_section') + ' ' + section.displayName,\n                action: 'confirm',\n                onActionTouchTap: function onActionTouchTap() {\n                    section.delete().then(function () {\n                        var newSections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                        __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, {\n                            sections: (Array.isArray(newSections) ? newSections : newSections.toArray()).filter(function (s) {\n                                return s.id !== section.id;\n                            })\n                        }));\n\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_deleted') });\n                        _this3.setState(function (state) {\n                            return {\n                                sections: state.sections.filter(function (s) {\n                                    return s.id !== section.id;\n                                })\n                            };\n                        });\n                    }).catch(function (err) {\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to delete section', err);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleTranslateSectionClick',\n        value: function handleTranslateSectionClick(section) {\n            this.setState({\n                translationModel: section\n            });\n        }\n    }, {\n        key: 'handleSectionGreyFieldsClick',\n        value: function handleSectionGreyFieldsClick(section) {\n            this.setState({ greyFieldSectionModel: section });\n        }\n    }, {\n        key: 'swapSections',\n        value: function swapSections(sectionA, sectionB) {\n            var _this4 = this;\n\n            this.setState(function (state) {\n                var swapOrder = sectionA.sortOrder;\n                sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n                sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n                Promise.all([sectionA.save(), sectionB.save()]).then(function () {\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('section_moved') });\n                }).catch(function (err) {\n                    __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to swap sections:', err);\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n                return {\n                    sections: state.sections.sort(function (a, b) {\n                        return a.sortOrder - b.sortOrder;\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'moveSectionUp',\n        value: function moveSectionUp(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex > 0) {\n                var swapSection = this.state.sections[currentIndex - 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'moveSectionDown',\n        value: function moveSectionDown(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex < this.state.sections.length - 1) {\n                var swapSection = this.state.sections[currentIndex + 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var contextActions = {\n                edit: this.handleEditSectionClick,\n                delete: this.handleDeleteSectionClick,\n                translate: this.handleTranslateSectionClick,\n                manage_grey_fields: this.handleSectionGreyFieldsClick,\n                move_up: this.moveSectionUp,\n                move_down: this.moveSectionDown\n            };\n\n            var contextMenuIcons = {\n                edit: 'edit',\n                move_up: 'arrow_upward',\n                move_down: 'arrow_downward',\n                manage_grey_fields: 'do_not_disturb'\n            };\n\n            var contextActionChecker = function contextActionChecker(model, action) {\n                if (action === 'move_up') {\n                    return _this5.state.sections.indexOf(model) > 0;\n                } else if (action === 'move_down') {\n                    return _this5.state.sections.indexOf(model) < _this5.state.sections.length - 1;\n                }\n\n                return true;\n            };\n\n            return this.state.sections === undefined ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__[\"a\" /* default */], null) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_12__FormHeading__[\"a\" /* default */],\n                    { schema: 'dataSet', groupName: 'dataSetSection' },\n                    'section_management'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__[\"a\" /* default */],\n                    null,\n                    __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.displayName\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__[\"a\" /* default */], {\n                    columns: ['name'],\n                    rows: this.state.sections,\n                    contextMenuActions: contextActions,\n                    contextMenuIcons: contextMenuIcons,\n                    primaryAction: contextActions.edit,\n                    isContextActionAllowed: contextActionChecker\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.editSectionModel,\n                    sectionModel: this.state.editSectionModel,\n                    categoryCombos: this.state.categoryCombos,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ editSectionModel: false });\n                    },\n                    onSaveSection: this.handleSectionSaved\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.greyFieldSectionModel,\n                    sectionModel: this.state.greyFieldSectionModel,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ greyFieldSectionModel: false });\n                    },\n                    onRequestSave: this.handleSectionSaved\n                }),\n                this.state.translationModel ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translationModel,\n                    objectTypeToTranslate: this.state.translationModel && this.state.translationModel.modelDefinition,\n                    open: !!this.state.translationModel,\n                    onTranslationSaved: this.handleTranslationSaved,\n                    onTranslationError: this.handleTranslationErrored,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ translationModel: null });\n                    },\n                    fieldsToTranslate: ['name']\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.fab },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default.a,\n                        { onClick: this.handleAddSectionClick },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default.a,\n                            { className: 'material-icons' },\n                            'add'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return EditDataSetSections;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nEditDataSetSections.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\nEditDataSetSections.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditDataSetSections);\n\n/***/ }),\n\n/***/ 3544:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HelpLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr__ = __webpack_require__(756);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__ = __webpack_require__(3545);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__);\n\n\n\n\n\n\n\n\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion(_ref) {\n    var major = _ref.major,\n        minor = _ref.minor,\n        snapshot = _ref.snapshot;\n\n    if (snapshot) {\n        return 'master';\n    }\n    return major + '.' + minor;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    var placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, function (match, variable) {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a).find(function (mappingKey) {\n        var pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n        return new RegExp(pathToMatch).test(path);\n    });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    var variablesToReplace = new Map([['objectType', schema]]);\n    var variablesToReplaceCamel = new Map([['objectType', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)]]);\n\n    var replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nfunction HelpLink(_ref2, _ref3) {\n    var schema = _ref2.schema;\n    var d2 = _ref3.d2;\n\n    var path = window.location.hash.replace(/^#/, '') // Remove leading hash\n    .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    var docsLink = 'https://docs.dhis2.org/' + getDocsVersion(d2.system.version);\n    var helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default.a,\n            {\n                href: '' + docsLink + helpLink,\n                target: '_blank',\n                rel: 'noopener noreferrer',\n                tooltip: d2.i18n.getTranslation('open_user_guide'),\n                tooltipPosition: 'bottom-center',\n                iconClassName: 'material-icons',\n                iconStyle: { top: -2 }\n            },\n            'help_outline'\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nHelpLink.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/***/ }),\n\n/***/ 3545:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html#create_predictor_group\",\"/list/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html\",\"/edit/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/list/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/edit/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/list/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n/***/ }),\n\n/***/ 3548:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__ = __webpack_require__(456);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__ = __webpack_require__(3564);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TranslationDialog);\n\n/***/ }),\n\n/***/ 3563:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__ = __webpack_require__(322);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__ = __webpack_require__(209);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nLocaleSelector.propTypes = {\n    value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    locales: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        locale: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    })).isRequired,\n    onChange: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (LocaleSelector);\n\n/***/ }),\n\n/***/ 3564:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(113);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__ = __webpack_require__(3563);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__translationForm_actions__ = __webpack_require__(3565);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__ = __webpack_require__(1369);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store_Store__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__ = __webpack_require__(171);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_9__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_5_rxjs__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"c\" /* saveTranslations */])(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: fieldName },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, {\n                        floatingLabelText: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }),\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (TranslationForm);\n\n/***/ }),\n\n/***/ 3565:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__action_Action__ = __webpack_require__(114);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_2__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 3566:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__ = __webpack_require__(319);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__ = __webpack_require__(3544);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__BackButton_component__ = __webpack_require__(3569);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_utils__ = __webpack_require__(207);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction FormHeading(_ref, context) {\n    var level = _ref.level,\n        schema = _ref.schema,\n        children = _ref.children,\n        groupName = _ref.groupName,\n        isDirtyHandler = _ref.isDirtyHandler,\n        skipTranslation = _ref.skipTranslation,\n        props = _objectWithoutProperties(_ref, ['level', 'schema', 'children', 'groupName', 'isDirtyHandler', 'skipTranslation']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { level: level }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__BackButton_component__[\"a\" /* default */], {\n            onClick: function onClick() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__router_utils__[\"b\" /* goToAndScrollUp */])('/list/' + groupName + '/' + schema);\n            },\n            iconStyle: { top: 3 },\n            isDirtyHandler: isDirtyHandler\n        }),\n        skipTranslation ? children : context.d2.i18n.getTranslation(children),\n        schema && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__[\"a\" /* default */], { schema: schema })\n    );\n}\n\nFormHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array]),\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    groupName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    skipTranslation: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: function isDirtyHandler() {},\n    level: 2,\n    children: '',\n    skipTranslation: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(FormHeading));\n\n/***/ }),\n\n/***/ 3569:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__ = __webpack_require__(208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__ = __webpack_require__(249);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction BackButton(props, context) {\n    var tooltip = props.tooltip,\n        onClick = props.onClick,\n        _props$isDirtyHandler = props.isDirtyHandler,\n        isDirtyHandler = _props$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */]) : _props$isDirtyHandler,\n        otherProps = _objectWithoutProperties(props, ['tooltip', 'onClick', 'isDirtyHandler']);\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        var isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick.apply(undefined, arguments);\n        } else if (\n        // eslint-disable-next-line no-restricted-globals\n        confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default.a,\n        _extends({\n            tooltip: tooltip || context.d2.i18n.getTranslation('back'),\n            tooltipPosition: 'bottom-right',\n            onClick: onClickWithConfirm\n        }, otherProps, {\n            iconClassName: 'material-icons'\n        }),\n        '\\uE5C4'\n    );\n}\nBackButton.propTypes = {\n    tooltip: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(BackButton));\n\n/***/ }),\n\n/***/ 3635:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LoadingMask;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__ = __webpack_require__(171);\n\n\n\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nfunction LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__[\"a\" /* default */], { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    large: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    small: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool\n};\n\n/***/ }),\n\n/***/ 3674:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(319);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100\n};\n\nfunction FormSubHeading(_ref) {\n    var level = _ref.level,\n        children = _ref.children,\n        props = _objectWithoutProperties(_ref, ['level', 'children']);\n\n    var style = Object.assign({}, defaultStyle, props.style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { style: style, level: level || 3 }),\n        children\n    );\n}\nFormSubHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n    level: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormSubHeading);\n\n/***/ }),\n\n/***/ 3848:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(456);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__ = __webpack_require__(770);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__ = __webpack_require__(249);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    dialogContent: {\n        maxWidth: 'none'\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden'\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto'\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0'\n    }\n};\n\nvar GreyFieldDialog = function (_React$Component) {\n    _inherits(GreyFieldDialog, _React$Component);\n\n    function GreyFieldDialog(props, context) {\n        _classCallCheck(this, GreyFieldDialog);\n\n        var _this = _possibleConstructorReturn(this, (GreyFieldDialog.__proto__ || Object.getPrototypeOf(GreyFieldDialog)).call(this, props, context));\n\n        _this.state = {\n            categories: []\n        };\n\n        _this.closeDialog = _this.closeDialog.bind(_this);\n        _this.handleSaveClick = _this.handleSaveClick.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(GreyFieldDialog, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            var d2 = this.context.d2;\n\n            if (props.sectionModel) {\n                var dataElements = props.sectionModel.dataElements.toArray();\n                if (dataElements.length < 1) {\n                    __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section ' + props.sectionModel.displayName + ' contains no data elements');\n                    __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                    this.props.onRequestClose();\n                    return;\n                }\n\n                var cocMap = {};\n\n                var categoryArrayToMap = function categoryArrayToMap(categories) {\n                    var appendage = null;\n\n                    var reduceAppendage = function reduceAppendage(prev, categoryOption) {\n                        var out = prev;\n                        out[categoryOption.id] = appendage;\n                        return out;\n                    };\n\n                    while (categories.length > 0) {\n                        appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                    }\n                    return appendage;\n                };\n\n                var assignCocs = function assignCocs(cocMap, options, coc) {\n                    if (options.length > 0) {\n                        return Object.keys(cocMap).reduce(function (prev, key) {\n                            var out = prev;\n                            var keyPos = options.indexOf(key);\n                            if (keyPos !== -1) {\n                                options.splice(keyPos, 1);\n                                out[key] = assignCocs(cocMap[key], options, coc);\n                                return out;\n                            }\n                            out[key] = cocMap[key];\n                            return out;\n                        }, {});\n                    }\n                    return coc;\n                };\n\n                // Use the categoryCombos associated with the section to get categories and their category options\n                d2.models.categoryCombos.list({\n                    filter: 'id:in:[' + props.sectionModel.categoryCombos.toArray().map(function (coc) {\n                        return coc.id;\n                    }) + ']',\n                    paging: false,\n                    fields: ['id,displayName', 'categories[id,displayName,categoryOptions[id,displayName]]', 'categoryOptionCombos[id,displayName', 'categoryOptions[id,displayName]]'].join(',')\n                }).then(function (categoryCombos) {\n                    categoryCombos.forEach(function (categoryCombo) {\n                        // Build a nested map of categories:\n                        // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                        //\n                        // Then convert to JSON and back as a fast way to remove any references within the structure\n                        Object.assign(cocMap, JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray()))));\n\n                        // Fill in the leaf nodes in the cocMap with the actual coc's\n                        categoryCombo.categoryOptionCombos.toArray().forEach(function (coc) {\n                            var optionPath = coc.categoryOptions.toArray().map(function (o) {\n                                return o.id;\n                            });\n                            cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                        });\n                    });\n\n                    var greyedFields = props.sectionModel.greyedFields.reduce(function (prev, gf) {\n                        if (prev.hasOwnProperty(gf.dataElement.id)) {\n                            prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                            return prev;\n                        }\n\n                        var out = prev;\n                        out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                        return out;\n                    }, {});\n\n                    _this2.setState({\n                        currentCategoryCombo: categoryCombos.toArray()[0].id,\n                        categoryCombos: categoryCombos,\n                        optionCount: categoryCombos.toArray().reduce(function (oc, cc) {\n                            oc[cc.id] = cc.categories.toArray().map(function (c) {\n                                return c.categoryOptions.size;\n                            });\n                            return oc;\n                        }, {}),\n                        cocMap: cocMap,\n                        greyedFields: greyedFields\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'closeDialog',\n        value: function closeDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'handleSaveClick',\n        value: function handleSaveClick() {\n            var _this3 = this;\n\n            var greyedFields = [];\n            Object.keys(this.state.greyedFields).forEach(function (dataElement) {\n                _this3.state.greyedFields[dataElement].forEach(function (coc) {\n                    greyedFields.push({\n                        dataElement: { id: dataElement },\n                        categoryOptionCombo: { id: coc }\n                    });\n                });\n            });\n\n            var section = Object.assign(this.props.sectionModel, { greyedFields: greyedFields });\n\n            section.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section updated', res);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_saved') });\n                _this3.props.onRequestSave(section);\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n        }\n    }, {\n        key: 'renderTableHeader',\n        value: function renderTableHeader() {\n            var _this4 = this;\n\n            var prevRowColCount = 1;\n\n            return this.state.currentCategoryCombo && this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map(function (cat, catNum) {\n                var colSpan = _this4.state.optionCount[_this4.state.currentCategoryCombo].slice(catNum + 1).reduce(function (product, optionCount) {\n                    return optionCount * product;\n                }, 1);\n\n                var isLastHeader = catNum === _this4.state.categoryCombos.get(_this4.state.currentCategoryCombo).categories.size - 1;\n                var row = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: catNum },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'th',\n                        { style: styles.thDataElements },\n                        isLastHeader && _this4.getTranslation('data_element')\n                    ),\n\n                    // For each column in the previous row...\n                    Array.apply(undefined, _toConsumableArray(Array(prevRowColCount))).map(function (e, rep) {\n                        return (\n                            // ... render the columns for this row\n                            cat.categoryOptions.toArray().map(function (opt, optNum) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'th',\n                                    {\n                                        key: optNum + '.' + rep,\n                                        colSpan: colSpan,\n                                        style: styles.th\n                                    },\n                                    opt.displayName === 'default' ? '' : opt.displayName\n                                );\n                            })\n                        );\n                    })\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            });\n        }\n    }, {\n        key: 'renderCheckbox',\n        value: function renderCheckbox(dataElement, fieldArray, fieldNum) {\n            var _this5 = this;\n\n            var resolveCoc = function resolveCoc(cocMap, fields) {\n                if (fields.length === 0) {\n                    return cocMap;\n                }\n\n                var field = fields.shift();\n                return resolveCoc(cocMap[field], fields);\n            };\n\n            var coc = resolveCoc(this.state.cocMap, fieldArray);\n\n            var isGreyed = this.state.greyedFields.hasOwnProperty(dataElement.id) && this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n            var toggleBoggle = function (dataElementId, categoryOptionComboId, event, disable) {\n                _this5.setState(function (state) {\n                    var greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                    if (disable) {\n                        if (greyedCocs.includes(categoryOptionComboId)) {\n                            greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                        }\n                    } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.push(categoryOptionComboId);\n                    }\n\n                    var greyedFields = Object.keys(state.greyedFields).reduce(function (prev, deId) {\n                        var out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                    if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                        greyedFields[dataElementId] = greyedCocs;\n                    }\n\n                    return { greyedFields: greyedFields };\n                });\n            }.bind(this, dataElement.id, coc.id);\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                { key: fieldNum, style: styles.td },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default.a, {\n                    checked: !isGreyed,\n                    label: isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled'),\n                    labelPosition: 'right',\n                    labelStyle: { whiteSpace: 'nowrap' },\n                    onCheck: toggleBoggle\n                })\n            );\n        }\n    }, {\n        key: 'renderDataElements',\n        value: function renderDataElements() {\n            var _this6 = this;\n\n            var getCocFields = function getCocFields() {\n                return _this6.state.categoryCombos.get(_this6.state.currentCategoryCombo).categories.toArray().reduce(function (prev, cat) {\n                    if (prev.length > 0) {\n                        var out = [];\n                        prev.forEach(function (p) {\n                            cat.categoryOptions.toArray().forEach(function (opt) {\n                                var pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach(function (opt) {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n            };\n\n            var currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                return de.id;\n            });\n            return this.state.currentCategoryCombo ? __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                return currentSectionDataElementIds.includes(dse.dataElement.id);\n            }).filter(function (dse) {\n                return (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === _this6.state.currentCategoryCombo;\n            }).sort(function (a, b) {\n                return currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id);\n            }).map(function (dse, deNum) {\n                var cocFields = getCocFields();\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: deNum, style: { background: deNum % 2 === 0 ? 'none' : '#f0f0f0' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'td',\n                        { style: styles.tdDataElement },\n                        dse.dataElement.displayName\n                    ),\n                    cocFields.map(function (fields, fieldNum) {\n                        return _this6.renderCheckbox(dse.dataElement, fields, fieldNum);\n                    })\n                );\n            }) : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var title = this.props.sectionModel.displayName;\n\n            var _props = this.props,\n                open = _props.open,\n                extraProps = _objectWithoutProperties(_props, ['open']);\n\n            var uniqueCatComboIds = [],\n                sectionDataElementIds = [],\n                categoryCombosForSection = [];\n\n            if (this.props.sectionModel) {\n                // Get data element ids for the current section\n                sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                });\n\n                // Get unique cat combos for data elements in current section\n                categoryCombosForSection = __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    return sectionDataElementIds.includes(dse.dataElement.id);\n                }).map(function (dse) {\n                    return dse.categoryCombo || dse.dataElement.categoryCombo;\n                }).reduce(function (catCombos, catCombo) {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, []).sort(function (a, b) {\n                    return a.displayName.localeCompare(b.displayName);\n                });\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    autoDetectWindowHeight: true,\n                    title: this.getTranslation('manage_grey_fields') + ': ' + title,\n                    style: { maxWidth: 'none' },\n                    contentStyle: styles.dialogContent,\n                    open: open && this.props.sectionModel.dataElements.size > 0\n                }, extraProps, {\n                    actions: [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.closeDialog,\n                        style: { marginRight: 16 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.handleSaveClick\n                    })],\n                    onRequestClose: this.closeDialog\n                }),\n                this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: categoryCombosForSection.map(function (cc) {\n                        return {\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? _this7.getTranslation('none') : cc.displayName\n                        };\n                    }),\n                    labelText: this.getTranslation('category_combo'),\n                    value: this.state.currentCategoryCombo,\n                    onChange: function onChange(e) {\n                        return _this7.setState({\n                            currentCategoryCombo: e.target.value\n                        });\n                    },\n                    style: { width: '33%' },\n                    isRequired: true\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.dialogDiv },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'table',\n                        { style: styles.table },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'tbody',\n                            null,\n                            this.renderTableHeader(),\n                            this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return GreyFieldDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nGreyFieldDialog.contextTypes = { d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onRequestSave: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GreyFieldDialog);\n\n/***/ }),\n\n/***/ 3849:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(456);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(113);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__ = __webpack_require__(774);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__ = __webpack_require__(257);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(249);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedDataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar indicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedIndicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\nvar SectionDialog = function (_React$Component) {\n    _inherits(SectionDialog, _React$Component);\n\n    function SectionDialog(props, context) {\n        _classCallCheck(this, SectionDialog);\n\n        var _this = _possibleConstructorReturn(this, (SectionDialog.__proto__ || Object.getPrototypeOf(SectionDialog)).call(this, props, context));\n\n        _this.setAssignedDataElements = function (dataElements) {\n            assignedDataElementStore.setState(dataElements);\n        };\n\n        _this.setAssignedIndicators = function (indicators) {\n            assignedIndicatorStore.setState(indicators);\n        };\n\n        _this.removeIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(function (i) {\n                return indicators.indexOf(i) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.assignIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n            return Promise.resolve();\n        };\n\n        _this.handleRowTotalsChange = function (e, value) {\n            _this.setState({ showRowTotals: value });\n        };\n\n        _this.handleColumnTotalsChange = function (e, value) {\n            _this.setState({ showColumnTotals: value });\n        };\n\n        _this.handleFilterChange = function (e) {\n            _this.setState({ filterText: e.target.value });\n        };\n\n        _this.handleNameChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var nameDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.name === e.target.value;\n            }, false);\n\n            _this.setState({ name: e.target.value, nameError: nameDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleCodeChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var codeDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.code && s.code === e.target.value;\n            }, false);\n\n            _this.setState({ code: e.target.value, codeError: codeDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleDescriptionChange = function (e) {\n            _this.setState({ description: e.target.value });\n        };\n\n        _this.assignDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n            return Promise.resolve();\n        };\n\n        _this.removeDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.filter(function (de) {\n                return dataElements.indexOf(de) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.handleCategoryComboChange = function (event) {\n            var categoryComboId = event.target.value;\n\n            if (__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements) {\n                dataElementStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    if (categoryComboId) {\n                        return dse.categoryCombo ? dse.categoryCombo.id === categoryComboId : dse.dataElement.categoryCombo.id === categoryComboId;\n                    }\n                    return true;\n                }).filter(function (dse) {\n                    return _this.state.filterDataElementIds ? !_this.state.filterDataElementIds.includes(dse.dataElement.id) : true;\n                }).map(function (dse) {\n                    return { value: dse.dataElement.id, text: dse.dataElement.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n            }\n\n            _this.setState({\n                categoryCombo: categoryComboId\n            });\n        };\n\n        _this.saveSection = function () {\n            if (!_this.state.name || _this.state.name.trim().length === 0) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('name_is_required'),\n                    action: _this.getTranslation('ok')\n                });\n                return;\n            }\n\n            var sectionModel = _this.props.sectionModel.id ? _this.props.sectionModel : _this.props.sectionModel.modelDefinition.create();\n            Object.assign(sectionModel, {\n                dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                name: _this.state.name,\n                code: _this.state.code,\n                description: _this.state.description,\n                showRowTotals: _this.state.showRowTotals,\n                showColumnTotals: _this.state.showColumnTotals,\n                dataElements: assignedDataElementStore.state.map(function (de) {\n                    return { id: de };\n                }),\n                indicators: assignedIndicatorStore.state.map(function (i) {\n                    return { id: i };\n                }),\n                sortOrder: _this.props.sectionModel.sortOrder || __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections.toArray().reduce(function (prev, s) {\n                    return Math.max(prev, s.sortOrder + 1);\n                }, 0)\n            });\n            sectionModel.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this.getTranslation('section_saved') });\n                _this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [':all,dataElements[id,categoryCombo[id,displayName]]', 'greyedFields[categoryOptionCombo,dataElement]'].join(',')\n                }).then(function (section) {\n                    _this.props.onSaveSection(section);\n                });\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.warn('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('failed_to_save_section'),\n                    action: _this.getTranslation('ok')\n                });\n            });\n        };\n\n        _this.renderFilters = function () {\n            var catCombos = [{ value: false, text: _this.getTranslation('no_filter') }].concat(_this.props.categoryCombos.sort(function (a, b) {\n                return a.text.localeCompare(b.text);\n            }));\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minWidth: 605 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: catCombos,\n                    labelText: _this.getTranslation('category_combo_filter'),\n                    onChange: _this.handleCategoryComboChange,\n                    value: _this.state.categoryCombo,\n                    isRequired: true,\n                    disabled: _this.props.categoryCombos.length === 1,\n                    style: { width: 284 }\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    fullWidth: true,\n                    hintText: _this.getTranslation('search_available_selected_items'),\n                    defaultValue: _this.state.filterText,\n                    onChange: _this.handleFilterChange\n                })\n            );\n        };\n\n        _this.renderAvailableOptions = function () {\n            var labelStyle = {\n                position: 'relative',\n                display: 'block',\n                width: '100%',\n                lineHeight: '24px',\n                color: 'rgba(0,0,0,0.3)',\n                marginTop: '1.25rem',\n                fontSize: 16\n            };\n\n            var editorStyle = {\n                marginBottom: 80\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('data_elements')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: dataElementStore,\n                        assignedItemStore: assignedDataElementStore,\n                        onAssignItems: _this.assignDataElements,\n                        onRemoveItems: _this.removeDataElements,\n                        onOrderChanged: _this.setAssignedDataElements,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ),\n                indicatorStore.state.length ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('indicators')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: indicatorStore,\n                        assignedItemStore: assignedIndicatorStore,\n                        onAssignItems: _this.assignIndicators,\n                        onRemoveItems: _this.removeIndicators,\n                        onOrderChanged: _this.setAssignedIndicators,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ) : null\n            );\n        };\n\n        _this.state = {\n            categoryCombo: false\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(SectionDialog, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.subscriptions = [];\n            this.subscriptions.push(assignedDataElementStore.subscribe(function () {\n                _this2.forceUpdate();\n            }));\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this3 = this;\n\n            if (props.sectionModel) {\n                var currentSectionId = props.sectionModel.id;\n                var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n                var otherSections = sectionArray.filter(function (s) {\n                    return s.id !== currentSectionId;\n                });\n                var filterDataElementIds = otherSections.reduce(function (elements, section) {\n                    return elements.concat((Array.isArray(section.dataElements) ? section.dataElements : section.dataElements.toArray()).map(function (de) {\n                        return de.id;\n                    }));\n                }, []);\n\n                // Default category combo filter = no filter\n                var categoryComboId = false;\n\n                assignedDataElementStore.setState(props.sectionModel.dataElements ? props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                }) : []);\n\n                indicatorStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.indicators.toArray().map(function (i) {\n                    return { value: i.id, text: i.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n                assignedIndicatorStore.setState(props.sectionModel.indicators ? props.sectionModel.indicators.toArray().map(function (i) {\n                    return i.id;\n                }) : []);\n\n                this.setState({\n                    name: props.sectionModel.name,\n                    code: props.sectionModel.code,\n                    nameError: '',\n                    codeError: '',\n                    description: props.sectionModel.description,\n                    showRowTotals: props.sectionModel.showRowTotals,\n                    showColumnTotals: props.sectionModel.showColumnTotals,\n                    filterText: '',\n                    filterDataElementIds: filterDataElementIds\n                }, function () {\n                    _this3.handleCategoryComboChange({ target: { value: categoryComboId } });\n                    _this3.forceUpdate();\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.subscriptions.forEach(function (disposable) {\n                return disposable.unsubscribe();\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var title = this.getTranslation('add_section');\n            var sectionIdDiv = null;\n\n            if (this.props.sectionModel.id) {\n                title = this.getTranslation('edit_section');\n                sectionIdDiv = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' } },\n                    this.getTranslation('section_id'),\n                    ':',\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'span',\n                        { style: { fontFamily: 'monospace' } },\n                        this.props.sectionModel.id\n                    )\n                );\n            }\n\n            var validateName = function validateName(e) {\n                _this4.setState({ nameError: e.target.value.trim().length > 0 ? '' : _this4.getTranslation('value_required') });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    title: title,\n                    actions: [sectionIdDiv, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.props.onRequestClose,\n                        style: { marginRight: 24 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.saveSection\n                    })]\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('name') + ' *',\n                    value: this.state.name || '',\n                    style: { width: '100%' },\n                    onChange: this.handleNameChange,\n                    errorText: this.state.nameError,\n                    onBlur: validateName\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('code'),\n                    value: this.state.code || '',\n                    style: { width: '100%' },\n                    onChange: this.handleCodeChange,\n                    errorText: this.state.codeError\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('description'),\n                    value: this.state.description || '',\n                    style: { width: '100%' },\n                    multiLine: true,\n                    onChange: this.handleDescriptionChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_row_totals'),\n                    checked: this.state.showRowTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleRowTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_column_totals'),\n                    checked: this.state.showColumnTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleColumnTotalsChange\n                }),\n                this.renderFilters(),\n                this.renderAvailableOptions()\n            );\n        }\n    }]);\n\n    return SectionDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nSectionDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    categoryCombos: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onSaveSection: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\nSectionDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SectionDialog);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7-5a80ca79c7f0d92b87c8.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport log from 'loglevel';\n\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\n\nimport DataTable from 'd2-ui/lib/data-table/DataTable.component';\nimport FloatingActionButton from 'material-ui/FloatingActionButton/FloatingActionButton';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\n\nimport SectionDialog from './SectionDialog.component';\nimport GreyFieldDialog from './GreyFieldDialog.component';\n\nimport snackActions from '../Snackbar/snack.actions';\nimport modelToEditStore from './modelToEditStore';\nimport FormHeading from './FormHeading';\nimport FormSubHeading from './FormSubHeading';\n\nconst styles = {\n    heading: {\n        paddingBottom: 18,\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10,\n    },\n};\n\nclass EditDataSetSections extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false,\n        };\n\n        Promise.all([\n            context.d2.Api.getApi().get(\n                ['dataSets', props.params.modelId, 'categoryCombos'].join('/'),\n                { fields: 'id,displayName', paging: false },\n            ),\n        ]).then(([catComboList]) => {\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            this.setState({\n                sections: sectionArray.sort((a, b) => a.sortOrder - b.sortOrder),\n                categoryCombos: catComboList.categoryCombos.map(cc => ({\n                    value: cc.id,\n                    text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                })),\n            });\n        });\n\n        this.handleAddSectionClick = this.handleAddSectionClick.bind(this);\n        this.handleEditSectionClick = this.handleEditSectionClick.bind(this);\n        this.handleSectionSaved = this.handleSectionSaved.bind(this);\n\n        this.handleDeleteSectionClick = this.handleDeleteSectionClick.bind(this);\n        this.handleTranslateSectionClick = this.handleTranslateSectionClick.bind(this);\n        this.handleTranslationSaved = this.handleTranslationSaved.bind(this);\n        this.handleTranslationErrored = this.handleTranslationErrored.bind(this);\n\n        this.handleSectionGreyFieldsClick = this.handleSectionGreyFieldsClick.bind(this);\n\n        this.swapSections = this.swapSections.bind(this);\n        this.moveSectionUp = this.moveSectionUp.bind(this);\n        this.moveSectionDown = this.moveSectionDown.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    handleAddSectionClick() {\n        const newSection = this.context.d2.models.sections.create();\n        this.setState(state => ({\n            editSectionModel: Object.assign(newSection, {\n                dataSet: { id: modelToEditStore.state.id },\n                sortOrder: state.sections.reduce((p, s) => Math.max(s.sortOrder, p), 0) + 1,\n            }),\n        }));\n    }\n\n    handleEditSectionClick(editSectionModel) {\n        this.setState({ editSectionModel });\n    }\n\n    handleSectionSaved(savedSection) {\n        this.setState((state) => {\n            let replaced = false;\n            const sections = state.sections\n                .map((s) => {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                })\n                .sort((a, b) => a.sortOrder - b.sortOrder);\n            if (!replaced) {\n                sections.push(savedSection);\n            }\n\n            modelToEditStore.setState(Object.assign(modelToEditStore.state, { sections }));\n            return {\n                editSectionModel: false,\n                greyFieldSectionModel: false,\n                sections,\n            };\n        }, () => {\n            this.forceUpdate();\n        });\n    }\n\n    handleDeleteSectionClick(section) {\n        snackActions.show({\n            message: `${this.getTranslation('confirm_delete_section')} ${section.displayName}`,\n            action: 'confirm',\n            onActionTouchTap: () => {\n                section.delete()\n                    .then(() => {\n                        const newSections = modelToEditStore.state.sections;\n                        modelToEditStore.setState(Object.assign(modelToEditStore.state, {\n                            sections: (Array.isArray(newSections)\n                                ? newSections\n                                : newSections.toArray()).filter(s => s.id !== section.id),\n                        }));\n\n                        snackActions.show({ message: this.getTranslation('section_deleted') });\n                        this.setState(state => ({\n                            sections: state.sections.filter(s => s.id !== section.id),\n                        }));\n                    })\n                    .catch((err) => {\n                        snackActions.show({ message: this.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        log.warn('Failed to delete section', err);\n                    });\n            },\n        });\n    }\n\n    handleTranslateSectionClick(section) {\n        this.setState({\n            translationModel: section,\n        });\n    }\n\n    handleTranslationSaved = () => {\n        snackActions.show({ message: 'translation_saved', translate: true });\n    }\n\n    handleTranslationErrored = (errorMessage) => {\n        log.error(errorMessage);\n        snackActions.show({ message: 'translation_save_error', action: 'ok', translate: true });\n    }\n\n    handleSectionGreyFieldsClick(section) {\n        this.setState({ greyFieldSectionModel: section });\n    }\n\n    swapSections(sectionA, sectionB) {\n        this.setState((state) => {\n            const swapOrder = sectionA.sortOrder;\n            sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n            sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n            Promise.all([\n                sectionA.save(),\n                sectionB.save(),\n            ])\n                .then(() => {\n                    snackActions.show({ message: this.getTranslation('section_moved') });\n                })\n                .catch((err) => {\n                    log.warn('Failed to swap sections:', err);\n                    snackActions.show({ message: this.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n            return {\n                sections: state.sections.sort((a, b) => a.sortOrder - b.sortOrder),\n            };\n        });\n    }\n\n    moveSectionUp(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex > 0) {\n            const swapSection = this.state.sections[currentIndex - 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    moveSectionDown(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex < this.state.sections.length - 1) {\n            const swapSection = this.state.sections[currentIndex + 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    render() {\n        const contextActions = {\n            edit: this.handleEditSectionClick,\n            delete: this.handleDeleteSectionClick,\n            translate: this.handleTranslateSectionClick,\n            manage_grey_fields: this.handleSectionGreyFieldsClick,\n            move_up: this.moveSectionUp,\n            move_down: this.moveSectionDown,\n        };\n\n        const contextMenuIcons = {\n            edit: 'edit',\n            move_up: 'arrow_upward',\n            move_down: 'arrow_downward',\n            manage_grey_fields: 'do_not_disturb',\n        };\n\n        const contextActionChecker = (model, action) => {\n            if (action === 'move_up') {\n                return this.state.sections.indexOf(model) > 0;\n            } else if (action === 'move_down') {\n                return this.state.sections.indexOf(model) < this.state.sections.length - 1;\n            }\n\n            return true;\n        };\n\n        return this.state.sections === undefined ? <LoadingMask /> : (\n            <div>\n                <FormHeading schema=\"dataSet\" groupName=\"dataSetSection\">\n                    {'section_management'}\n                </FormHeading>\n                <FormSubHeading>\n                    {modelToEditStore.state.displayName}\n                </FormSubHeading>\n                <DataTable\n                    columns={['name']}\n                    rows={this.state.sections}\n                    contextMenuActions={contextActions}\n                    contextMenuIcons={contextMenuIcons}\n                    primaryAction={contextActions.edit}\n                    isContextActionAllowed={contextActionChecker}\n                />\n                <SectionDialog\n                    open={!!this.state.editSectionModel}\n                    sectionModel={this.state.editSectionModel}\n                    categoryCombos={this.state.categoryCombos}\n                    onRequestClose={() => { this.setState({ editSectionModel: false }); }}\n                    onSaveSection={this.handleSectionSaved}\n                />\n                <GreyFieldDialog\n                    open={!!this.state.greyFieldSectionModel}\n                    sectionModel={this.state.greyFieldSectionModel}\n                    onRequestClose={() => { this.setState({ greyFieldSectionModel: false }); }}\n                    onRequestSave={this.handleSectionSaved}\n                />\n                {this.state.translationModel ? <TranslationDialog\n                    objectToTranslate={this.state.translationModel}\n                    objectTypeToTranslate={this.state.translationModel && this.state.translationModel.modelDefinition}\n                    open={!!this.state.translationModel}\n                    onTranslationSaved={this.handleTranslationSaved}\n                    onTranslationError={this.handleTranslationErrored}\n                    onRequestClose={() => { this.setState({ translationModel: null }); }}\n                    fieldsToTranslate={['name']}\n                /> : null }\n                <div style={styles.fab}>\n                    <FloatingActionButton onClick={this.handleAddSectionClick}>\n                        <FontIcon className=\"material-icons\">add</FontIcon>\n                    </FloatingActionButton>\n                </div>\n            </div>\n        );\n    }\n}\n\nEditDataSetSections.propTypes = {\n    params: PropTypes.any.isRequired,\n};\nEditDataSetSections.contextTypes = {\n    d2: PropTypes.any.isRequired,\n};\n\nexport default EditDataSetSections;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditDataSetSections.component.js","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from 'material-ui/IconButton';\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport inlineHelpMapping from '../config/inlinehelp-mapping.json';\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && inlineHelpMapping[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion({ major, minor, snapshot }) {\n    if (snapshot) {\n        return 'master';\n    }\n    return `${major}.${minor}`;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    const placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, (match, variable) => {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(inlineHelpMapping)\n        .find((mappingKey) => {\n            const pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n            return (new RegExp(pathToMatch)).test(path);\n        });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(inlineHelpMapping[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    const variablesToReplace = new Map([['objectType', schema]]);\n    const variablesToReplaceCamel = new Map([['objectType', camelCaseToUnderscores(schema)]]);\n\n    const replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nexport default function HelpLink({ schema }, { d2 }) {\n    const path = window.location.hash\n        .replace(/^#/, '') // Remove leading hash\n        .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    const docsLink = `https://docs.dhis2.org/${getDocsVersion(d2.system.version)}`;\n    const helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return (\n            <IconButton\n                href={`${docsLink}${helpLink}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                tooltip={d2.i18n.getTranslation('open_user_guide')}\n                tooltipPosition=\"bottom-center\"\n                iconClassName=\"material-icons\"\n                iconStyle={{ top: -2 }}\n            >\n                help_outline\n            </IconButton>\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: PropTypes.string.isRequired,\n};\n\nHelpLink.contextTypes = {\n    d2: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/List/HelpLink.component.js","module.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html#create_predictor_group\",\"/list/otherSection/predictorGroup\":\"/en/user/html/manage_predictor.html\",\"/edit/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/list/otherSection/optionGroupSet\":\"/en/user/html/manage_option_set.html#create_option_group_set\",\"/edit/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/list/otherSection/optionGroup\":\"/en/user/html/manage_option_set.html#create_option_group\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/inlinehelp-mapping.json\n// module id = 3545\n// module chunks = 0 1 2 4 5 7 9","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    open: PropTypes.bool,\n    onRequestClose: PropTypes.func.isRequired,\n    fieldsToTranslate: PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationDialog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 3548\n// module chunks = 1 2 4 5 7 8","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return React.createElement(MenuItem, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return React.createElement(\n                SelectField,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(Component);\n\nLocaleSelector.propTypes = {\n    value: PropTypes.string,\n    locales: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        locale: PropTypes.string.isRequired\n    })).isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default LocaleSelector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 3563\n// module chunks = 1 2 4 5 7 8","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from 'material-ui/TextField/TextField';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rxjs';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport Store from '../store/Store';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: camelCaseToUnderscores(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            saveTranslations(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return React.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                React.createElement(CircularProgress, { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return React.createElement(\n                    'div',\n                    { key: fieldName },\n                    React.createElement(TextField, {\n                        floatingLabelText: _this2.getTranslation(camelCaseToUnderscores(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    React.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return React.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                React.createElement(RaisedButton, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return React.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(Component);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }),\n    fieldsToTranslate: PropTypes.arrayOf(PropTypes.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 3564\n// module chunks = 1 2 4 5 7 8","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport Action from '../action/Action';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 3565\n// module chunks = 1 2 4 5 7 8","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport HelpLink from '../List/HelpLink.component';\nimport BackButton from './BackButton.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nfunction FormHeading({ level, schema, children, groupName, isDirtyHandler, skipTranslation, ...props }, context) {\n    return (\n        <Heading {...props} level={level}>\n            <BackButton\n                onClick={() => goToAndScrollUp(`/list/${groupName}/${schema}`)}\n                iconStyle={{ top: 3 }}\n                isDirtyHandler={isDirtyHandler}\n            />\n            {skipTranslation ? children : context.d2.i18n.getTranslation(children)}\n            {schema && (<HelpLink schema={schema} />)}\n        </Heading>\n    );\n}\n\nFormHeading.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.array,\n    ]),\n    level: PropTypes.number,\n    isDirtyHandler: PropTypes.func,\n    schema: PropTypes.string.isRequired,\n    groupName: PropTypes.string.isRequired,\n    skipTranslation: PropTypes.bool,\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: () => {},\n    level: 2,\n    children: '',\n    skipTranslation: false,\n};\n\nexport default addD2Context(FormHeading);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormHeading.js","import React from 'react';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction BackButton(props, context) {\n    const { tooltip, onClick, isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore), ...otherProps } = props;\n    const onClickWithConfirm = (...params) => {\n        const isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick(...params);\n        } else if (\n            // eslint-disable-next-line no-restricted-globals\n            confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))\n        ) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <IconButton\n            tooltip={tooltip || context.d2.i18n.getTranslation('back')}\n            tooltipPosition=\"bottom-right\"\n            onClick={onClickWithConfirm}\n            {...otherProps}\n            iconClassName=\"material-icons\"\n        >\n            &#xE5C4;\n        </IconButton>\n    );\n}\nBackButton.propTypes = {\n    tooltip: React.PropTypes.string,\n};\n\nexport default addD2Context(BackButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/BackButton.component.js","import PropTypes from 'prop-types';\nimport React from 'react';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nexport default function LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return React.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        React.createElement(CircularProgress, { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: PropTypes.object,\n    large: PropTypes.bool,\n    small: PropTypes.bool\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/loading-mask/LoadingMask.component.js\n// module id = 3635\n// module chunks = 2 7 11","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nconst defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100,\n};\n\nfunction FormSubHeading({ level, children, ...props }) {\n    const style = Object.assign({}, defaultStyle, props.style);\n\n    return (\n        <Heading {...props} style={style} level={level || 3}>\n            {children}\n        </Heading>\n    );\n}\nFormSubHeading.propTypes = {\n    children: React.PropTypes.string,\n    level: React.PropTypes.number,\n};\n\nexport default FormSubHeading;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormSubHeading.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport Checkbox from 'material-ui/Checkbox/Checkbox';\nimport DropDown from '../forms/form-fields/drop-down';\n\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\n\nconst styles = {\n    dialogContent: {\n        maxWidth: 'none',\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden',\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto',\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6,\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6,\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105,\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0',\n    },\n};\n\nclass GreyFieldDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categories: [],\n        };\n\n        this.closeDialog = this.closeDialog.bind(this);\n        this.handleSaveClick = this.handleSaveClick.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentWillReceiveProps(props) {\n        const d2 = this.context.d2;\n\n        if (props.sectionModel) {\n            const dataElements = props.sectionModel.dataElements.toArray();\n            if (dataElements.length < 1) {\n                log.info(`Section ${props.sectionModel.displayName} contains no data elements`);\n                snackActions.show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                this.props.onRequestClose();\n                return;\n            }\n\n            let cocMap = {};\n\n            const categoryArrayToMap = (categories) => {\n                let appendage = null;\n\n                const reduceAppendage = (prev, categoryOption) => {\n                    const out = prev;\n                    out[categoryOption.id] = appendage;\n                    return out;\n                };\n\n                while (categories.length > 0) {\n                    appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                }\n                return appendage;\n            };\n\n            const assignCocs = (cocMap, options, coc) => {\n                if (options.length > 0) {\n                    return Object.keys(cocMap).reduce((prev, key) => {\n                        const out = prev;\n                        const keyPos = options.indexOf(key);\n                        if (keyPos !== -1) {\n                            options.splice(keyPos, 1);\n                            out[key] = assignCocs(cocMap[key], options, coc);\n                            return out;\n                        }\n                        out[key] = cocMap[key];\n                        return out;\n                    }, {});\n                }\n                return coc;\n            };\n\n            // Use the categoryCombos associated with the section to get categories and their category options\n            d2.models.categoryCombos.list({\n                filter: `id:in:[${props.sectionModel.categoryCombos.toArray().map(coc => coc.id)}]`,\n                paging: false,\n                fields: [\n                    'id,displayName',\n                    'categories[id,displayName,categoryOptions[id,displayName]]',\n                    'categoryOptionCombos[id,displayName',\n                    'categoryOptions[id,displayName]]',\n                ].join(','),\n            })\n            .then((categoryCombos) => {\n                categoryCombos.forEach((categoryCombo) => {\n                    // Build a nested map of categories:\n                    // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                    //\n                    // Then convert to JSON and back as a fast way to remove any references within the structure\n                    Object.assign(\n                        cocMap,\n                        JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray())))\n                    );\n\n                    // Fill in the leaf nodes in the cocMap with the actual coc's\n                    categoryCombo.categoryOptionCombos.toArray().forEach((coc) => {\n                        const optionPath = coc.categoryOptions.toArray().map(o => o.id);\n                        cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                    });\n                });\n\n                const greyedFields = props.sectionModel.greyedFields.reduce((prev, gf) => {\n                    if (prev.hasOwnProperty(gf.dataElement.id)) {\n                        prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                        return prev;\n                    }\n\n                    const out = prev;\n                    out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                    return out;\n                }, {});\n\n                this.setState({\n                    currentCategoryCombo: categoryCombos.toArray()[0].id,\n                    categoryCombos,\n                    optionCount: categoryCombos.toArray()\n                        .reduce((oc, cc) => {\n                            oc[cc.id] = cc.categories.toArray().map(c => c.categoryOptions.size);\n                            return oc;\n                        }, {}),\n                    cocMap,\n                    greyedFields,\n                });\n            });\n        }\n    }\n\n    closeDialog() {\n        this.props.onRequestClose();\n    }\n\n    handleSaveClick() {\n        const greyedFields = [];\n        Object.keys(this.state.greyedFields).forEach((dataElement) => {\n            this.state.greyedFields[dataElement].forEach((coc) => {\n                greyedFields.push({\n                    dataElement: { id: dataElement },\n                    categoryOptionCombo: { id: coc },\n                });\n            });\n        });\n\n        const section = Object.assign(this.props.sectionModel, { greyedFields });\n\n        section\n            .save()\n            .then((res) => {\n                log.info('Section updated', res);\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.props.onRequestSave(section);\n            })\n            .catch((err) => {\n                log.error('Failed to save section:', err);\n                snackActions.show({ message: this.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n    }\n\n    renderTableHeader() {\n        let prevRowColCount = 1;\n\n        return this.state.currentCategoryCombo && (\n            this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map((cat, catNum) => {\n                const colSpan = this.state.optionCount[this.state.currentCategoryCombo]\n                    .slice(catNum + 1)\n                    .reduce((product, optionCount) => optionCount * product, 1);\n\n                const isLastHeader = catNum === this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.size - 1;\n                const row = (\n                    <tr key={catNum}>\n                        <th style={styles.thDataElements}>{isLastHeader && this.getTranslation('data_element')}</th>\n                        {\n                            // For each column in the previous row...\n                            Array(...Array(prevRowColCount)).map((e, rep) =>\n                                // ... render the columns for this row\n                                 cat.categoryOptions.toArray().map((opt, optNum) => (\n                                     <th\n                                         key={`${optNum}.${rep}`}\n                                         colSpan={colSpan}\n                                         style={styles.th}\n                                     >{opt.displayName === 'default' ? '' : opt.displayName}</th>\n                                    )))\n                        }\n                    </tr>\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            })\n        );\n    }\n\n    renderCheckbox(dataElement, fieldArray, fieldNum) {\n        const resolveCoc = (cocMap, fields) => {\n            if (fields.length === 0) {\n                return cocMap;\n            }\n\n            const field = fields.shift();\n            return resolveCoc(cocMap[field], fields);\n        };\n\n        const coc = resolveCoc(this.state.cocMap, fieldArray);\n\n        const isGreyed =\n            this.state.greyedFields.hasOwnProperty(dataElement.id) &&\n            this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n        const toggleBoggle = ((dataElementId, categoryOptionComboId, event, disable) => {\n            this.setState((state) => {\n                const greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                if (disable) {\n                    if (greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                    }\n                } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                    greyedCocs.push(categoryOptionComboId);\n                }\n\n                const greyedFields = Object.keys(state.greyedFields)\n                    .reduce((prev, deId) => {\n                        const out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                    greyedFields[dataElementId] = greyedCocs;\n                }\n\n                return { greyedFields };\n            });\n        }).bind(this, dataElement.id, coc.id);\n\n        return (\n            <td key={fieldNum} style={styles.td}>\n                <Checkbox\n                    checked={!isGreyed}\n                    label={isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled')}\n                    labelPosition=\"right\"\n                    labelStyle={{ whiteSpace: 'nowrap' }}\n                    onCheck={toggleBoggle}\n                />\n            </td>\n        );\n    }\n\n    renderDataElements() {\n        const getCocFields = () => this.state.categoryCombos.get(this.state.currentCategoryCombo).categories\n                .toArray()\n                .reduce((prev, cat) => {\n                    if (prev.length > 0) {\n                        const out = [];\n                        prev.forEach((p) => {\n                            cat.categoryOptions.toArray().forEach((opt) => {\n                                const pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach((opt) => {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n\n        const currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n        return this.state.currentCategoryCombo ?\n            modelToEditStore.state.dataSetElements\n                .filter(dse => currentSectionDataElementIds.includes(dse.dataElement.id))\n                .filter(dse => (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === this.state.currentCategoryCombo)\n                .sort((a, b) => currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id))\n                .map((dse, deNum) => {\n                    const cocFields = getCocFields();\n                    return (\n                        <tr key={deNum} style={{ background: deNum % 2 === 0 ? 'none' : '#f0f0f0' }}>\n                            <td style={styles.tdDataElement}>{dse.dataElement.displayName}</td>\n                            {cocFields.map((fields, fieldNum) => this.renderCheckbox(dse.dataElement, fields, fieldNum))}\n                        </tr>\n                    );\n                }) : null;\n    }\n\n    render() {\n        const title = this.props.sectionModel.displayName;\n        const {\n            open,\n            ...extraProps\n        } = this.props;\n\n        let uniqueCatComboIds = [],\n            sectionDataElementIds = [],\n            categoryCombosForSection = [];\n\n        if (this.props.sectionModel) {\n            // Get data element ids for the current section\n            sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n\n            // Get unique cat combos for data elements in current section\n            categoryCombosForSection = modelToEditStore.state.dataSetElements\n                .filter(dse => sectionDataElementIds.includes(dse.dataElement.id))\n                .map(dse => dse.categoryCombo || dse.dataElement.categoryCombo)\n                .reduce((catCombos, catCombo) => {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, [])\n                .sort((a, b) => a.displayName.localeCompare(b.displayName));\n        }\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                autoDetectWindowHeight\n                title={`${this.getTranslation('manage_grey_fields')}: ${title}`}\n                style={{ maxWidth: 'none' }}\n                contentStyle={styles.dialogContent}\n                open={open && this.props.sectionModel.dataElements.size > 0}\n                {...extraProps}\n                actions={[\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.closeDialog}\n                        style={{ marginRight: 16 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.handleSaveClick}\n                    />,\n                ]}\n                onRequestClose={this.closeDialog}\n            >\n                {this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? (\n                    <DropDown\n                        options={categoryCombosForSection.map(cc => ({\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                        }))}\n                        labelText={this.getTranslation('category_combo')}\n                        value={this.state.currentCategoryCombo}\n                        onChange={e => this.setState({\n                            currentCategoryCombo: e.target.value,\n                        })}\n                        style={{ width: '33%' }}\n                        isRequired\n                    />\n                ) : null}\n                <div style={styles.dialogDiv}>\n                    <table style={styles.table}>\n                        <tbody>\n                            {this.renderTableHeader()}\n                            {this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()}\n                        </tbody>\n                    </table>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nGreyFieldDialog.contextTypes = { d2: React.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onRequestSave: React.PropTypes.func.isRequired,\n};\n\nexport default GreyFieldDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/GreyFieldDialog.component.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport TextField from 'material-ui/TextField/TextField';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditorWithOrdering.component';\n\nimport Store from 'd2-ui/lib/store/Store';\nimport Checkbox from 'material-ui/Checkbox';\n\nimport DropDown from '../forms/form-fields/drop-down';\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\nconst dataElementStore = Store.create();\nconst assignedDataElementStore = Store.create();\nconst indicatorStore = Store.create();\nconst assignedIndicatorStore = Store.create();\n\nclass SectionDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombo: false,\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentDidMount() {\n        this.subscriptions = [];\n        this.subscriptions.push(assignedDataElementStore.subscribe(() => {\n            this.forceUpdate();\n        }));\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.sectionModel) {\n            const currentSectionId = props.sectionModel.id;\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            const otherSections = sectionArray.filter(s => s.id !== currentSectionId);\n            const filterDataElementIds = otherSections\n                .reduce((elements, section) => elements.concat((Array.isArray(section.dataElements)\n                    ? section.dataElements\n                    : section.dataElements.toArray()\n                ).map(de => de.id)), []);\n\n            // Default category combo filter = no filter\n            const categoryComboId = false;\n\n\n            assignedDataElementStore.setState(\n                props.sectionModel.dataElements\n                    ? props.sectionModel.dataElements.toArray().map(de => de.id)\n                    : [],\n            );\n\n            indicatorStore.setState(\n                modelToEditStore.state.indicators\n                    .toArray()\n                    .map(i => ({ value: i.id, text: i.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n            assignedIndicatorStore.setState(\n                props.sectionModel.indicators\n                    ? props.sectionModel.indicators.toArray().map(i => i.id)\n                    : [],\n            );\n\n            this.setState({\n                name: props.sectionModel.name,\n                code: props.sectionModel.code,\n                nameError: '',\n                codeError: '',\n                description: props.sectionModel.description,\n                showRowTotals: props.sectionModel.showRowTotals,\n                showColumnTotals: props.sectionModel.showColumnTotals,\n                filterText: '',\n                filterDataElementIds,\n            }, () => {\n                this.handleCategoryComboChange({ target: { value: categoryComboId } });\n                this.forceUpdate();\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        this.subscriptions.forEach(disposable => disposable.unsubscribe());\n    }\n\n    setAssignedDataElements = (dataElements) => {\n        assignedDataElementStore.setState(dataElements);\n    }\n\n    setAssignedIndicators = (indicators) => {\n        assignedIndicatorStore.setState(indicators);\n    }\n\n    removeIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(i => indicators.indexOf(i) === -1));\n        return Promise.resolve();\n    }\n\n    assignIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n        return Promise.resolve();\n    }\n\n    handleRowTotalsChange = (e, value) => {\n        this.setState({ showRowTotals: value });\n    }\n\n    handleColumnTotalsChange = (e, value) => {\n        this.setState({ showColumnTotals: value });\n    }\n\n    handleFilterChange = (e) => {\n        this.setState({ filterText: e.target.value });\n    }\n\n    handleNameChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const nameDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || s.name === e.target.value, false);\n\n        this.setState({ name: e.target.value, nameError: nameDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleCodeChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const codeDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || (s.code && s.code === e.target.value), false);\n\n        this.setState({ code: e.target.value, codeError: codeDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleDescriptionChange = (e) => {\n        this.setState({ description: e.target.value });\n    }\n\n    assignDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n        return Promise.resolve();\n    }\n\n    removeDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.filter(de => dataElements.indexOf(de) === -1));\n        return Promise.resolve();\n    }\n\n    handleCategoryComboChange = (event) => {\n        const categoryComboId = event.target.value;\n\n        if (modelToEditStore.state.dataSetElements) {\n            dataElementStore.setState(\n                modelToEditStore.state.dataSetElements\n                    .filter((dse) => {\n                        if (categoryComboId) {\n                            return dse.categoryCombo\n                                ? dse.categoryCombo.id === categoryComboId\n                                : dse.dataElement.categoryCombo.id === categoryComboId;\n                        }\n                        return true;\n                    })\n                    .filter(dse => (this.state.filterDataElementIds\n                        ? !this.state.filterDataElementIds.includes(dse.dataElement.id)\n                        : true),\n                    )\n                    .map(dse => ({ value: dse.dataElement.id, text: dse.dataElement.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n        }\n\n        this.setState({\n            categoryCombo: categoryComboId,\n        });\n    }\n\n    saveSection = () => {\n        if (!this.state.name || this.state.name.trim().length === 0) {\n            snackActions.show({\n                message: this.getTranslation('name_is_required'),\n                action: this.getTranslation('ok'),\n            });\n            return;\n        }\n\n        const sectionModel = this.props.sectionModel.id\n            ? this.props.sectionModel\n            : this.props.sectionModel.modelDefinition.create();\n        Object.assign(sectionModel, {\n            dataSet: { id: modelToEditStore.state.id },\n            name: this.state.name,\n            code: this.state.code,\n            description: this.state.description,\n            showRowTotals: this.state.showRowTotals,\n            showColumnTotals: this.state.showColumnTotals,\n            dataElements: assignedDataElementStore.state.map(de => ({ id: de })),\n            indicators: assignedIndicatorStore.state.map(i => ({ id: i })),\n            sortOrder: this.props.sectionModel.sortOrder || modelToEditStore\n                .state\n                .sections\n                .toArray()\n                .reduce((prev, s) => Math.max(prev, s.sortOrder + 1), 0),\n        });\n        sectionModel.save()\n            .then((res) => {\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [\n                        ':all,dataElements[id,categoryCombo[id,displayName]]',\n                        'greyedFields[categoryOptionCombo,dataElement]',\n                    ].join(','),\n                })\n                    .then((section) => {\n                        this.props.onSaveSection(section);\n                    });\n            })\n            .catch((err) => {\n                log.warn('Failed to save section:', err);\n                snackActions.show({\n                    message: this.getTranslation('failed_to_save_section'),\n                    action: this.getTranslation('ok'),\n                });\n            });\n    }\n\n    renderFilters = () => {\n        const catCombos = [{ value: false, text: this.getTranslation('no_filter') }]\n            .concat(this.props.categoryCombos.sort((a, b) => a.text.localeCompare(b.text)));\n\n        return (\n            <div style={{ minWidth: 605 }}>\n                <DropDown\n                    options={catCombos}\n                    labelText={this.getTranslation('category_combo_filter')}\n                    onChange={this.handleCategoryComboChange}\n                    value={this.state.categoryCombo}\n                    isRequired\n                    disabled={this.props.categoryCombos.length === 1}\n                    style={{ width: 284 }}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this.handleFilterChange}\n                />\n            </div>\n        );\n    }\n\n    renderAvailableOptions = () => {\n        const labelStyle = {\n            position: 'relative',\n            display: 'block',\n            width: '100%',\n            lineHeight: '24px',\n            color: 'rgba(0,0,0,0.3)',\n            marginTop: '1.25rem',\n            fontSize: 16,\n        };\n\n        const editorStyle = {\n            marginBottom: 80,\n        };\n\n        return (\n            <div>\n                <div style={editorStyle}>\n                    <label style={labelStyle}>{this.getTranslation('data_elements')}</label>\n                    <GroupEditor\n                        itemStore={dataElementStore}\n                        assignedItemStore={assignedDataElementStore}\n                        onAssignItems={this.assignDataElements}\n                        onRemoveItems={this.removeDataElements}\n                        onOrderChanged={this.setAssignedDataElements}\n                        height={250}\n                        filterText={this.state.filterText}\n                    />\n                </div>\n                {indicatorStore.state.length ? (\n                    <div style={editorStyle}>\n                        <label style={labelStyle}>{this.getTranslation('indicators')}</label>\n                        <GroupEditor\n                            itemStore={indicatorStore}\n                            assignedItemStore={assignedIndicatorStore}\n                            onAssignItems={this.assignIndicators}\n                            onRemoveItems={this.removeIndicators}\n                            onOrderChanged={this.setAssignedIndicators}\n                            height={250}\n                            filterText={this.state.filterText}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n\n    render() {\n        let title = this.getTranslation('add_section');\n        let sectionIdDiv = null;\n\n        if (this.props.sectionModel.id) {\n            title = this.getTranslation('edit_section');\n            sectionIdDiv = (\n                <div style={{ float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' }}>\n                    {this.getTranslation('section_id')}:\n                    <span style={{ fontFamily: 'monospace' }}>{this.props.sectionModel.id}</span>\n                </div>\n            );\n        }\n\n        const validateName = (e) => {\n            this.setState({ nameError: e.target.value.trim().length > 0 ? '' : this.getTranslation('value_required') });\n        };\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                title={title}\n                actions={[\n                    sectionIdDiv,\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.props.onRequestClose}\n                        style={{ marginRight: 24 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.saveSection}\n                    />,\n                ]}\n                {...this.props}\n            >\n                <TextField\n                    floatingLabelText={`${this.getTranslation('name')} *`}\n                    value={this.state.name || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleNameChange}\n                    errorText={this.state.nameError}\n                    onBlur={validateName}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('code')}\n                    value={this.state.code || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleCodeChange}\n                    errorText={this.state.codeError}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('description')}\n                    value={this.state.description || ''}\n                    style={{ width: '100%' }}\n                    multiLine\n                    onChange={this.handleDescriptionChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_row_totals')}\n                    checked={this.state.showRowTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleRowTotalsChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_column_totals')}\n                    checked={this.state.showColumnTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleColumnTotalsChange}\n                />\n                {this.renderFilters()}\n                {this.renderAvailableOptions()}\n            </Dialog>\n        );\n    }\n}\n\nSectionDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    categoryCombos: React.PropTypes.array.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onSaveSection: React.PropTypes.func.isRequired,\n};\nSectionDialog.contextTypes = {\n    d2: React.PropTypes.any.isRequired,\n};\n\nexport default SectionDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SectionDialog.component.js"],"sourceRoot":""}